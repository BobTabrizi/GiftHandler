(this.webpackJsonpgifthandler=this.webpackJsonpgifthandler||[]).push([[0],{104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),r=n(24),s=n.n(r),i=(n(65),n(10)),o=(n(38),n(6)),u=n(3),l=n(5),d=n.n(l),j=n(7),b=n(8),p=n.n(b),m="GET_ITEMS",O="ADD_ITEM",h="ADD_IMAGE",f="DELETE_ITEM",x="EDIT_ITEM",g="SELECT_EDIT_ITEM",v="UNSELECT_EDIT_ITEM",y="ITEMS_LOADING",N="GET_GROUPS",I="GET_GROUP",w="ADD_GROUP",E="ADD_GROUP_MEMBER",S="REMOVE_GROUP_MEMBER",M="LEAVE_GROUP",k="SET_ACTIVE_GROUP",G="SELECT_EDIT_GROUP",C="UNSELECT_EDIT_GROUP",R="DELETE_GROUP",P="GROUPS_LOADING",D="GET_GROUP_MEMBERS",A="GROUP_LOADING",L="GROUP_MEMBERS_LOADING",T="USER_LOADING",_="USER_LOADED",B="UPDATE_USER",U="AUTH_ERROR",F="LOGIN_SUCCESS",H="LOGIN_FAIL",J="LOGOUT_SUCCESS",z="REGISTER_SUCCESS",V="REGISTER_FAIL",q="GET_ERRORS",W="CLEAR_ERRORS",X="GET_EXT_USER",K="EXT_USER_LOADING",Q="UPDATE_EXT_USER",Y="SET_ACTIVE_MODAL",$="SET_MODAL_PAGE",Z="UPDATE_MODAL_DATA",ee="DEACTIVATE_MODAL",te=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:q,payload:{message:e,status:t,id:n}}},ne=function(){return{type:W}},ae=n(15),ce=Object(ae.a)(),re=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t,n){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:T}),a="",n().auth.token&&(a=n().auth.token),e.next=5,p.a.get("/api/auth/user?token=".concat(a)).then((function(e){return t({type:_,payload:e.data}),e.data.id})).catch((function(e){t(te(e.response.data,e.response.status)),t({type:U})}));case 5:return c=e.sent,console.log(c),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},se=function(e){return function(t){p.a.post("/api/auth/update",{UID:e.id,name:e.name,profileImage:e.profileImage}).then((function(e){t({type:B,payload:e.data})})).catch((function(e){console.log(e)}))}},ie=function(e,t,n){return function(){var a=Object(j.a)(d.a.mark((function a(c){var r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,p.a.post("/api/auth/processReset",{pid:e,code:t,password:n}).then((function(e){return c({type:"PW_RESET",payload:e.data}),e})).catch((function(e){return c({type:"PW_RESET_FAIL",payload:e}),e.response}));case 2:return r=a.sent,a.abrupt("return",r);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},oe=function(e,t){return function(){var n=Object(j.a)(d.a.mark((function n(a){var c;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p.a.post("/api/auth/resetReq",{email:e,pid:t}).then((function(e){return e})).catch((function(e){return a(te(e.response.data,e.response.status)),e.response}));case 2:return c=n.sent,n.abrupt("return",c);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},ue=(n(47),function(e){return function(t){t({type:Y,payload:{modalType:e}})}}),le=function(e){return function(t){t({type:$,payload:e})}},de=function(){return function(e){e({type:ee,payload:{activePage:null,modalType:null}})}},je=n(1),be=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(o.a)(r,2),i=s[0],l=s[1],d=Object(a.useState)(""),j=Object(o.a)(d,2),b=j[0],m=j[1],O=Object(u.c)((function(e){return e.error.message})),h=Object(u.b)();return Object(a.useEffect)((function(){h(ne())}),[]),Object(je.jsx)(je.Fragment,{children:Object(je.jsx)("div",{className:"RegisterModalBackground",children:Object(je.jsxs)("div",{className:"RegisterModalContainer",children:[Object(je.jsx)("h1",{children:"Register"}),O&&Object(je.jsx)("div",{children:O}),Object(je.jsx)("form",{onSubmit:function(e){e.preventDefault(),h(function(e){var t=e.name,n=e.email,a=e.password;return function(e){p.a.post("/api/auth/register",{name:t,email:n,password:a}).then((function(t){e({type:z,payload:t.data}),ce.push("/")})).catch((function(t){e(te(t.response.data,t.response.status,"REGISTER_FAIL")),e({type:V})}))}}({name:n,email:i,password:b})),h(de())},children:Object(je.jsxs)("div",{className:"form-inner",children:[Object(je.jsx)("div",{className:"form-group",children:Object(je.jsx)("input",{type:"name",name:"name",id:"name",placeholder:"Name",onChange:function(e){return c(e.target.value)}})}),Object(je.jsx)("div",{className:"form-group",children:Object(je.jsx)("input",{type:"email",name:"email",id:"email",placeholder:"Email",onChange:function(e){return l(e.target.value)}})}),Object(je.jsx)("div",{className:"form-group",children:Object(je.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"Password",onChange:function(e){return m(e.target.value)}})}),Object(je.jsx)("div",{className:"submitButton",children:Object(je.jsx)("input",{type:"submit",value:"Register",style:{width:250,marginTop:"1rem"}})}),Object(je.jsxs)("div",{className:"registerFooter",children:[Object(je.jsx)("div",{children:"Already have an account?"}),Object(je.jsx)("div",{className:"registerButton",onClick:function(){return h(de())},children:"Login"})]})]})})]})})})},pe=n(4),me={token:localStorage.getItem("token"),isAuthenticated:null,isLoading:!1,user:{name:""}};var Oe=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(u.c)((function(e){return e.modal.activeModal.modalType})),s=Object(u.c)((function(e){return e.error.message})),i=Object(a.useState)(!1),l=Object(o.a)(i,2),b=l[0],p=l[1],m=Object(u.b)(),O=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,m(oe(n));case 3:201===e.sent.status?p(!0):p(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){m(ne());"PassReset"===r&&window.addEventListener("click",(function(e){e.target&&"PassResetModalBackground"===e.target.className&&m(de())}))}),[r]),Object(je.jsx)(je.Fragment,{children:Object(je.jsx)("div",{className:"PassResetModalBackground",children:Object(je.jsxs)("div",{className:"PassResetContainer",children:[Object(je.jsxs)("div",{className:"PassResetHeader",children:[Object(je.jsx)("h1",{children:"Reset Password"}),Object(je.jsx)("button",{className:"PassResetCloseBtn",onClick:function(){return m(de())},children:"X"})]}),s&&Object(je.jsx)("div",{children:s}),Object(je.jsx)("div",{className:"PassResetBody",style:{display:!0===b?"none":"block"},children:Object(je.jsx)("form",{onSubmit:O,children:Object(je.jsxs)("div",{className:"form-inner",children:[Object(je.jsx)("div",{className:"form-group",children:Object(je.jsx)("input",{type:"email",name:"email",id:"email",placeholder:"Email",onChange:function(e){return c(e.target.value)}})}),Object(je.jsx)("div",{className:"submitButton",children:Object(je.jsx)("input",{type:"submit",value:"Submit",style:{width:250,marginTop:"1rem"}})})]})})}),Object(je.jsxs)("div",{className:"PassResetSuccess",style:{display:!0===b?"block":"none"},children:["Instructions have been sent to the email for reset.",Object(je.jsx)("button",{className:"ResetSuccessBtn",onClick:function(){return m(de())},children:"OK"})]})]})})})},he=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(o.a)(r,2),i=s[0],l=s[1],d=Object(u.b)(),j=Object(u.c)((function(e){return e.error.message})),b="RegisterUser"===Object(u.c)((function(e){return e.modal.activeModal.modalType})),m="PassReset"===Object(u.c)((function(e){return e.modal.activeModal.modalType}));return Object(a.useEffect)((function(){d(ne())}),[]),Object(je.jsxs)(je.Fragment,{children:[b&&Object(je.jsx)(be,{}),m&&Object(je.jsx)(Oe,{}),!b&&Object(je.jsxs)("div",{className:"LoginFormContainer",children:[Object(je.jsx)("h1",{children:"Gift Handler"}),j&&Object(je.jsx)("div",{children:j}),Object(je.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d(function(e){var t=e.email,n=e.password;return function(e){p.a.post("/api/auth/login",{email:t,password:n}).then((function(t){e({type:F,payload:t.data}),ce.push("/")})).catch((function(t){e(te(t.response.data.error.message,t.response.status,"LOGIN_FAIL")),e({type:H})}))}}({email:n,password:i}))},children:[Object(je.jsxs)("div",{className:"form-inner",children:[Object(je.jsx)("div",{className:"form-group",children:Object(je.jsx)("input",{type:"email",name:"email",id:"email",placeholder:"Email",onChange:function(e){return c(e.target.value)}})}),Object(je.jsx)("div",{className:"form-group",children:Object(je.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"Password",onChange:function(e){return l(e.target.value)}})}),Object(je.jsx)("div",{className:"submitButton",children:Object(je.jsx)("input",{type:"submit",value:"LOGIN",style:{width:250,marginTop:"1rem"}})})]}),Object(je.jsxs)("div",{className:"registerFooter",children:[Object(je.jsx)("div",{children:"Don't have an account?"}),Object(je.jsx)("div",{className:"registerButton",onClick:function(){return d(ue("RegisterUser"))},children:"Register"}),Object(je.jsx)("div",{className:"passResetReqBtn",onClick:function(){return d(ue("PassReset"))},children:"Forgot your password?"})]})]})]})]})},fe=function(){return Object(je.jsx)(je.Fragment,{children:Object(je.jsx)("div",{className:"LoginContainer",children:Object(je.jsx)(he,{})})})},xe=(n(48),function(e){return function(t){t(Ie()),p.a.get("/api/groups/user?userid=".concat(e),{}).then((function(e){return t({type:N,payload:e.data})})).catch((function(e){return t(te(e.response.data,e.response.status))}))}}),ge=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(we()),t.next=3,p.a.get("/api/groups?groupid=".concat(e)).then((function(e){return n({type:I,payload:e.data}),e.data})).catch((function(e){return n(te(e.response.data,e.response.status))}));case 3:return a=t.sent,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ve=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Ee()),t.next=3,p.a.get("/api/groups/members?groupid=".concat(e),{}).then((function(e){return n({type:D,payload:e.data}),e.data})).catch((function(e){return n(te(e.response.data,e.response.status))}));case 3:return a=t.sent,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ye=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.post("/api/groups/create",{GroupDetails:e}).then((function(e){return n({type:w,payload:e.data}),"Success"})).catch((function(e){return n(te(e.response.data,e.response.status)),e.response.data}));case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ne=function(e,t,n){return function(){var a=Object(j.a)(d.a.mark((function a(c){var r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,p.a.post("/api/groups/users",{groupname:e,passcode:t,userid:n}).then((function(e){return c({type:E,payload:e.data}),"Success"})).catch((function(e){return c(te(e.response.data,e.response.status)),e.response.data}));case 2:return r=a.sent,a.abrupt("return",r);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},Ie=function(){return{type:P}},we=function(){return{type:A}},Ee=function(){return{type:L}},Se=function(){return function(e){e({type:C,payload:{displayEditGroupModal:!1,groupDetails:null}})}},Me=n(11),ke=(n(89),n(52)),Ge=n(31),Ce=n(35),Re=[{title:"Home",path:"/",icon:Object(je.jsx)(Ge.a,{}),cName:"nav-text"},{title:"Groups",path:"/managegroups",icon:Object(je.jsx)(Ce.a,{}),cName:"nav-text"},{title:"Profile",path:"/profile",icon:Object(je.jsx)(Ce.a,{}),cName:"nav-text"}],Pe=n(0),De=n(60),Ae=["component"];function Le(e){var t=e.component,n=Object(De.a)(e,Ae);return Object(je.jsx)(i.b,Object(pe.a)(Object(pe.a)({},n),{},{render:function(e){return localStorage.getItem("token")?Object(je.jsx)(t,Object(pe.a)({},e)):Object(je.jsx)(i.a,{to:"/login"})}}))}function Te(e){var t=e.title,n=Object(a.useState)(!1),c=Object(o.a)(n,2),r=c[0],s=c[1],i=Object(u.b)(),l=function(){return s(!r)};return Object(je.jsx)(je.Fragment,{children:Object(je.jsxs)(Pe.b.Provider,{value:{color:"white"},children:[Object(je.jsxs)("div",{className:"navBar",style:{color:"white"},children:[Object(je.jsx)(Me.a,{to:"#",className:"menu-bars",children:Object(je.jsx)(ke.a,{onClick:l})}),Object(je.jsx)("div",{className:"navText",style:{fontSize:25},children:t})]}),Object(je.jsx)("nav",{className:r?"nav-menu active":"nav-menu",children:Object(je.jsxs)("ul",{className:"nav-menu-items",children:[Object(je.jsx)("li",{className:"navbar-toggle",onClick:l,children:Object(je.jsx)(Ge.b,{style:{cursor:"pointer"}})}),Re.map((function(e,t){return Object(je.jsx)(Me.a,{to:e.path,style:{textDecoration:"none",color:"white"},children:Object(je.jsx)("li",{className:e.cName,onClick:l,children:Object(je.jsx)("div",{className:"sidebarItem",children:e.title})},t)})})),Object(je.jsx)("hr",{}),Object(je.jsx)(Me.a,{to:"/login",onClick:function(){i({type:J})},style:{textDecoration:"none",color:"white"},children:Object(je.jsx)("li",{className:"nav-text",children:Object(je.jsx)("div",{className:"sidebarItem",children:"Sign Out"})})})]})})]})})}var _e=n(53),Be=n(54),Ue=n.n(Be),Fe=function(e,t){return function(){var n=Object(j.a)(d.a.mark((function n(a){var c;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(Ve()),n.next=3,p.a.get("/api/items/user?userid=".concat(e,"&groupid=").concat(t),{}).then((function(e){return a({type:m,payload:e.data}),e.data})).catch((function(e){return a(te(e.response.data,e.response.status))}));case 3:return c=n.sent,n.abrupt("return",c);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},He=function(e){return function(t){p.a.post("/api/items/add",{Item:e}).then((function(e){return t({type:O,payload:e.data}),e.data})).catch((function(e){return t(te(e.response.data,e.response.status))}))}},Je=function(e){return function(t){p.a.post("/api/items/edit",{item:e}).then((function(e){t({type:x,payload:{payload:e.data}})})).catch((function(e){return t(te(e.response.data,e.response.status))}))}},ze=function(){return function(e){e({type:v,payload:{displayEditModal:!1,itemDetails:null}})}},Ve=function(){return{type:y}},qe=function(e){Object(_e.a)(e);var t=Object(a.useState)("Select a Group"),n=Object(o.a)(t,2),c=n[0],r=n[1],s=Object(u.c)((function(e){return e.group.groups})),i=Object(u.c)((function(e){return e.group.currentGroup.Group})),l=Object(u.c)((function(e){return e.auth.user.id})),b=Object(u.c)((function(e){return e.item.itemAddition.displayAddModal})),p=Object(u.c)((function(e){return e.item.selectedItem.displayEditModal})),m=Object(u.b)(),O=function(e){if(e.length>0){m((n=e[0],function(e){e({type:k,payload:{Group:n}})}));var t=e[0].id;m(Fe(l,t)),r(e[0].name)}var n};return Object(a.useEffect)((function(){function e(){return(e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.id&&m(Fe(l,i.id)),i.groupname&&r(i.groupname);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(je.jsx)(je.Fragment,{children:Object(je.jsx)("div",{style:{textAlign:"center"},children:Object(je.jsxs)("div",{className:"ActiveGroupHeader",style:{visibility:b||p?"hidden":"visible"},children:["Select a Group",s&&0!==s.length&&Object(je.jsx)("div",{style:{position:"absolute",left:"50%",display:"flex"},children:Object(je.jsx)("div",{style:{position:"relative",left:"-50%"},children:Object(je.jsx)(Ue.a,{options:s,onChange:function(e){return O(e)},values:[s[0]],labelField:"groupname",valueField:"id",placeholder:"".concat(c," "),style:{width:500,margin:"auto",textAlign:"center"},dropdownHeight:"200px",dropdownGap:-5,searchable:!1})})}),s&&0===s.length&&Object(je.jsx)(Me.a,{to:"/managegroups",style:{textDecoration:"none"},children:Object(je.jsx)("div",{className:"NullGroupPrompt",children:"Join Or Create a Group!"})})]})})})},We=(n(28),function(e){var t=Object(u.b)(),n=function(){t(function(e){return function(t){t({type:g,payload:{displayEditModal:!0,itemDetails:e}})}}(e))};return Object(je.jsx)(je.Fragment,{children:Object(je.jsxs)("div",{className:"ItemDetailContainer",onClick:function(){return n()},children:[Object(je.jsx)("div",{className:"ItemImage",children:Object(je.jsx)("img",{src:"/api/images/".concat(e.image),style:{width:"100%",height:"100%",display:"block"},alt:"Registry Item"})}),Object(je.jsx)("div",{className:"ListItemName",children:e.name}),Object(je.jsx)("hr",{style:{width:"100%"}}),Object(je.jsxs)("div",{className:"ListItemPrice",children:["Price: ",e.price]}),Object(je.jsxs)("div",{className:"ListItemQuant",children:["Quantity: ",e.quantity]}),e.link&&Object(je.jsx)("p",{children:"Purchase Link"})]})})}),Xe=function(e){var t=Object(u.c)((function(e){return e.group.pageGroup.mode})),n=Object(u.c)((function(t){return t.item.memberItems.filter((function(t){return t.itemid===e.itemid}))})),a=Object(u.b)();return Object(je.jsx)(je.Fragment,{children:Object(je.jsxs)("div",{className:"ItemContainer",children:[0===n[0].quantity&&Object(je.jsx)("div",{className:"PurchasedItem",children:Object(je.jsx)("div",{className:"PurchasedItemText",children:"Item Purchased"})}),Object(je.jsxs)("div",{className:"ItemDetailContainer",children:[Object(je.jsx)("div",{className:"ItemImage",children:Object(je.jsx)("img",{src:"/api/images/".concat(e.image),style:{width:"100%",height:"100%",display:"block"},alt:"Registry Item"})}),Object(je.jsx)("div",{className:"ListItemName",children:e.name}),Object(je.jsx)("hr",{style:{width:"100%"}}),Object(je.jsxs)("div",{className:"ListItemPrice",children:["Price: ",e.price]}),Object(je.jsxs)("div",{className:"ListItemQuant",children:["Quantity: ",n[0].quantity]}),e.link&&Object(je.jsx)("a",{className:"PurchaseLink",href:e.link,children:"Purchase Link"}),1===t&&Object(je.jsx)("button",{className:"PurchaseBtn",onClick:function(){return function(){var t=n[0].quantity;t>=0&&t--;var c={itemid:e.itemid,price:e.price,quantity:t,link:e.link,imageKey:e.image,name:e.name};a(Je(c))}()},children:"Purchase"})]})]})})},Ke=n(12),Qe=function(){var e=Object(u.b)();return Object(je.jsx)(je.Fragment,{children:Object(je.jsxs)("div",{className:"AddItemCard",onClick:function(){return window.scrollTo({top:0,behavior:"smooth"}),void e(ue("AddItem"))},children:[Object(je.jsx)("div",{className:"ItemName",children:"ADD NEW ITEM"}),Object(je.jsx)(Ke.a,{style:{fontSize:250,color:"gray"}})]})})},Ye=function(e){var t=Object(u.c)((function(e){return e.item.memberItems}));return"Dashboard"===e.PageType?Object(je.jsx)(je.Fragment,{children:Object(je.jsxs)("div",{className:"ItemListContainer",children:[Object(je.jsx)(Qe,{}),t&&t.map((function(e,t){return Object(je.jsx)("div",{className:"ItemContainer",children:Object(je.jsx)(We,Object(pe.a)({},e))},t)}))]})}):Object(je.jsx)(je.Fragment,{children:Object(je.jsx)("div",{className:"ItemListContainer",children:t&&t.map((function(e,t){return Object(je.jsx)(je.Fragment,{children:Object(je.jsx)(Xe,Object(pe.a)({},e))})}))})})},$e=(n(50),function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.post("/api/images/create",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return n({type:h,payload:e.data}),e.data})).catch((function(e){return n(te(e.response.data,e.response.status))}));case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),Ze=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.delete("/api/images/delete?imageKey=".concat(e)).then((function(e){return n({type:"DELETE_IMAGE",payload:e.data}),e.data})).catch((function(e){return n(te(e.response.data,e.response.status))}));case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},et=n(56),tt=n.n(et),nt=n(57),at=n.n(nt),ct={prefix:"$",suffix:"",includeThousandsSeparator:!0,thousandsSeparatorSymbol:",",allowDecimal:!0,decimalSymbol:".",decimalLimit:2,integerLimit:7,allowNegative:!1,allowLeadingZeroes:!1},rt=function(e){var t=Object.assign({},e),n=at()(Object(pe.a)({},ct));return Object(je.jsx)(tt.a,Object(pe.a)({mask:n},t))},st=function(){var e=Object(u.c)((function(e){return e.auth.user.id})),t=Object(u.c)((function(e){return e.group.currentGroup.Group.id})),n=Object(u.c)((function(e){return e.modal.activeModal.modalType})),c=Object(a.useState)(0),r=Object(o.a)(c,2),s=r[0],i=r[1],l=Object(a.useState)("New Item"),b=Object(o.a)(l,2),p=b[0],m=b[1],O=Object(a.useState)(1),h=Object(o.a)(O,2),f=h[0],x=h[1],g=Object(a.useState)(null),v=Object(o.a)(g,2),y=v[0],N=v[1],I=Object(a.useState)(null),w=Object(o.a)(I,2),E=w[0],S=w[1],M=Object(a.useState)("/api/images/DefaultItem"),k=Object(o.a)(M,2),G=k[0],C=k[1],R=Object(u.b)();Object(a.useEffect)((function(){"AddItem"===n&&window.addEventListener("click",(function(e){e.target&&"ItemModalBackground"===e.target.className&&R(de())}))}),[n]);var P=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.image,console.log(n),(a=new FormData).append("image",n),e.next=6,R($e(a));case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var n=Object(j.a)(d.a.mark((function n(){var a,c;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a="DefaultItem",!E){n.next=6;break}return n.next=4,P({image:E});case 4:c=n.sent,a=c.Key;case 6:R(He({userID:e,price:s,quantity:f,link:y,purchased:!1,imageKey:a,itemName:p,GroupID:t})),R(de());case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(je.jsx)(je.Fragment,{children:Object(je.jsx)("div",{className:"ItemModalBackground",children:Object(je.jsxs)("div",{className:"ItemModalContainer",children:[Object(je.jsx)("input",{type:"file",id:"imageUpload",style:{display:"none"},onChange:function(e){var t=e.target.files[0];S(t),C(URL.createObjectURL(e.target.files[0]))},accept:"image/*"}),Object(je.jsx)("label",{htmlFor:"imageUpload",className:"NewImageBtn",children:Object(je.jsx)("div",{className:"ImageContainer",children:Object(je.jsxs)("div",{className:"content",children:[Object(je.jsx)("div",{className:"content-overlay"}),Object(je.jsx)("img",{className:"content-image",src:G,style:{width:"100%",height:"100%",display:"block"},alt:"Registry Item"}),Object(je.jsx)("div",{className:"content-details fadeIn-top",children:Object(je.jsx)("h3",{children:"Choose a new photo"})})]})})}),Object(je.jsx)("div",{className:"ItemName",children:Object(je.jsx)("input",{className:"ItemModalInputName",placeholder:"New Item",onChange:function(e){return m(e.target.value)}})}),Object(je.jsx)("hr",{style:{width:"100%"}}),Object(je.jsxs)("div",{className:"ItemPrice",children:[Object(je.jsx)("div",{className:"ItemModalBodyLabel",children:"Price:"}),Object(je.jsx)(rt,{className:"ItemModalInputPrice",placeholder:"0.00",onChange:function(e){return i(e.target.value)}})]}),Object(je.jsxs)("div",{className:"ItemQuant",children:[Object(je.jsx)("div",{className:"ItemModalBodyLabel",children:"Quantity:"}),Object(je.jsx)("input",{className:"ItemModalInputPrice",placeholder:"1",onChange:function(e){return x(e.target.value)}})]}),Object(je.jsxs)("div",{className:"ItemLink",children:[Object(je.jsx)("div",{className:"ItemModalBodyLabel",children:"Link:"}),Object(je.jsx)("input",{className:"ItemModalInputPrice",placeholder:"Purchase Link",onChange:function(e){return function(e){if(N(e),e.includes("amazon.com/"))try{var t=e.indexOf("/dp/"),n=4;-1===t&&(t=e.indexOf("/gp/"),n=12);var a=e.substr(t+n,10);10===a.length&&fetch("".concat("https://floating-refuge-25955.herokuapp.com/","https://ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&MarketPlace=US&ASIN=").concat(a,"&ServiceVersion=20070822&ID=AsinImage&WS=1&Format=SL250")).then((function(e){return e.blob()})).then((function(e){var t=new File([e],"image");S(t),C(URL.createObjectURL(e))}))}catch(e){console.log(e)}}(e.target.value)}})]}),Object(je.jsx)("button",{className:"ItemModalSubmitBtn",onClick:function(){return D()},children:"Add Item"})]})})})},it=function(){Object(u.c)((function(e){return e.auth.user.id}));var e=Object(u.c)((function(e){return e.item.selectedItem.itemDetails})),t=Object(u.c)((function(e){return e.item.selectedItem.displayEditModal})),n=Object(a.useState)(e.price),c=Object(o.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(e.name),l=Object(o.a)(i,2),b=l[0],m=l[1],O=Object(a.useState)(e.quantity),h=Object(o.a)(O,2),x=h[0],g=h[1],v=Object(a.useState)(e.link),y=Object(o.a)(v,2),N=y[0],I=y[1],w=Object(a.useState)(null),E=Object(o.a)(w,2),S=E[0],M=E[1],k=Object(a.useState)("/api/images/".concat(e.image)),G=Object(o.a)(k,2),C=G[0],R=G[1],P=Object(u.b)();Object(a.useEffect)((function(){t&&window.addEventListener("click",(function(e){e.target&&"ItemModalBackground"===e.target.className&&P(ze())}))}),[t]);var D=function(){var t=Object(j.a)(d.a.mark((function t(n){var a,c,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.image,"DefaultItem"!==e.image&&P(Ze(e.image)),(c=new FormData).append("image",a),t.next=6,P($e(c));case 6:return r=t.sent,t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),A=function(){P(function(e,t){return function(n){p.a.delete("/api/items/delete?itemid=".concat(e,"&itemKey=").concat(t)).then((function(e){})).catch((function(e){return n(te(e.response.data,e.response.status))})),n({type:f,payload:e})}}(e.itemid,e.image)),P(ze())},L=function(){var t=Object(j.a)(d.a.mark((function t(){var n,a,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.image,!S){t.next=6;break}return t.next=4,D({image:S});case 4:a=t.sent,n=a.Key;case 6:c={itemid:e.itemid,price:r,quantity:x,link:N,imageKey:n,name:b},P(Je(c)),P(ze());case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(je.jsx)(je.Fragment,{children:Object(je.jsx)("div",{className:"ItemModalBackground",children:Object(je.jsxs)("div",{className:"ItemModalContainer",children:[Object(je.jsx)("input",{type:"file",id:"imageUpload",style:{display:"none"},onChange:function(e){var t=e.target.files[0];M(t),R(URL.createObjectURL(e.target.files[0]))},accept:"image/*"}),Object(je.jsx)("label",{htmlFor:"imageUpload",className:"NewImageBtn",children:Object(je.jsx)("div",{className:"ImageContainer",children:Object(je.jsxs)("div",{className:"content",children:[Object(je.jsx)("div",{className:"content-overlay"}),Object(je.jsx)("img",{className:"content-image",src:C,style:{width:"100%",height:"100%",display:"block"},alt:"Registry Item"}),Object(je.jsx)("div",{className:"content-details fadeIn-top",children:Object(je.jsx)("h3",{children:"Choose a new photo"})})]})})}),Object(je.jsx)("div",{className:"ItemName",children:Object(je.jsx)("input",{className:"ItemModalInputName",placeholder:"".concat(e.name),onChange:function(e){return m(e.target.value)}})}),Object(je.jsx)("hr",{style:{width:"100%"}}),Object(je.jsxs)("div",{className:"ItemPrice",children:[Object(je.jsx)("div",{className:"ItemModalBodyLabel",children:"Price:"}),Object(je.jsx)(rt,{className:"ItemModalInputPrice",placeholder:"".concat(e.price),onChange:function(e){return s(e.target.value)}})]}),Object(je.jsxs)("div",{className:"ItemQuant",children:[Object(je.jsx)("div",{className:"ItemModalBodyLabel",children:"Quantity:"}),Object(je.jsx)("input",{className:"ItemModalInputPrice",placeholder:"".concat(e.quantity),onChange:function(e){return g(e.target.value)}})]}),Object(je.jsxs)("div",{className:"ItemLink",children:[Object(je.jsx)("div",{className:"ItemModalBodyLabel",children:"Link:"}),Object(je.jsx)("input",{className:"ItemModalInputPrice",placeholder:"".concat(e.link),onChange:function(e){return I(e.target.value)}})]}),Object(je.jsx)("button",{className:"ItemModalSubmitBtn",onClick:function(){return L()},children:"SAVE CHANGES"}),Object(je.jsx)("button",{className:"ItemModalDeleteBtn",onClick:function(){return A()},children:"DELETE ITEM"})]})})})},ot=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.group.currentGroup.Group.id})),n=Object(u.c)((function(e){return e.item.memberItems})),c=Object(u.c)((function(e){return e.item.selectedItem.displayEditModal})),r=Object(u.c)((function(e){return e.modal.activeModal.modalType}));return Object(a.useEffect)((function(){function t(){return(t=Object(j.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(re());case 2:n=t.sent,e(xe(n));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(je.jsx)(je.Fragment,{children:Object(je.jsxs)("div",{className:"dashContainer",style:{position:!t||n&&n.length<4?"absolute":"static"},children:["AddItem"===r&&Object(je.jsx)(st,{}),c&&Object(je.jsx)(it,{}),Object(je.jsx)(Te,{title:"HomePage"}),Object(je.jsx)(qe,{}),Object(je.jsx)("div",{className:"registryPlaceholder",style:{display:t?"none":"block"},children:Object(je.jsx)("div",{children:t?"Your Wishlist":"No Group Selected"})}),Object(je.jsx)("div",{className:"registryDashContainer",style:{display:t?"block":"none"},children:t&&Object(je.jsx)(Ye,{PageType:"Dashboard"})})]})})},ut=(n(104),n(51),function(){var e=Object(u.c)((function(e){return e.group.pageGroup.members})),t=Object(u.c)((function(e){return e.group.pageGroup.id}));return Object(je.jsx)(je.Fragment,{children:Object(je.jsx)("div",{className:"UserListContainer",children:e&&e.map((function(e,n){return Object(je.jsx)("div",{className:"UserContainer",children:Object(je.jsxs)(Me.a,{to:"/groups/".concat(t,"/users/").concat(e.id),style:{textDecoration:"none"},children:[Object(je.jsx)("div",{className:"UserImage",children:Object(je.jsx)("img",{src:"/api/images/".concat(e.profileimage),style:{width:"100%",height:"100%",borderRadius:25}})}),Object(je.jsx)("div",{className:"UserName",children:e.name})]})},n)}))})})}),lt=function(e){var t=Object(u.b)(),n=Object(a.useState)(""),c=Object(o.a)(n,2),r=c[0],s=c[1];return Object(a.useEffect)((function(){function n(){return(n=Object(j.a)(d.a.mark((function n(){var a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(ge(e.match.params.id));case 2:a=n.sent,s(a.name);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[]),Object(je.jsx)(je.Fragment,{children:Object(je.jsxs)("div",{className:"container",children:[Object(je.jsx)(Te,{title:r}),Object(je.jsxs)("div",{className:"MemberContainer",children:[Object(je.jsx)("h1",{children:"Members in this group"}),Object(je.jsx)(ut,{})]})]})})},dt=(n(34),n(58)),jt={0:"Secret Santa",1:"Wedding",2:"Other"},bt=function(e){var t=e.FilterType,n=Object(u.c)((function(e){return e.group.groups})),a=Object(u.c)((function(e){return e.auth.user.id})),c=Object(u.b)(),r=function(e){c(function(e){return function(t){t({type:G,payload:{displayEditGroupModal:!0,groupDetails:e}})}}(e))},s=function(e){c(function(e,t){return function(n){p.a.post("/api/groups/removeUser",{groupID:e,userID:t}).then(n({type:M,payload:e})).catch((function(e){return n(te(e.response.data,e.response.status))}))}}(e,a))};return Object(je.jsxs)(je.Fragment,{children:[Object(je.jsxs)("div",{className:"GroupListHeader",children:[Object(je.jsx)("div",{className:"GroupNameHeader",children:"Group Name"}),Object(je.jsx)("div",{className:"VerticalLine"}),Object(je.jsx)("div",{className:"GroupTypeHeader",children:"Group Type"}),Object(je.jsx)("div",{className:"VerticalLine"}),Object(je.jsx)("div",{className:"GroupActionHeader",children:"Edit"})]}),Object(je.jsx)("div",{className:"GroupListContainer",children:n&&n.filter((function(e){return e.role===t})).map((function(e,n){return Object(je.jsxs)("div",{className:"GroupContainer",children:[Object(je.jsx)("div",{className:"GroupLabel",children:Object(je.jsx)(Me.a,{to:"/groups/".concat(e.id),style:{textDecoration:"none"},children:e.groupname})}),Object(je.jsx)("div",{className:"VerticalLine"}),Object(je.jsx)("div",{className:"GroupMode",children:Object(je.jsx)("div",{className:"GroupModeLabel",children:jt[e.mode]})}),Object(je.jsx)("div",{className:"VerticalLine"}),"Member"===t&&Object(je.jsx)("div",{className:"GroupActions",children:Object(je.jsx)("div",{className:"LeaveGroupBtn",children:Object(je.jsx)(dt.a,{onClick:function(){return s(e.id)}})})}),"Admin"===t&&Object(je.jsx)("div",{className:"GroupActions",children:Object(je.jsx)("div",{className:"SettingsGroupBtn",children:Object(je.jsx)(Ke.d,{onClick:function(){return r(e)}})})})]},n)}))})]})},pt=function(){var e=Object(u.b)(),t=function(t){"Add"===t?(e(ue("Group")),e(le("ModeSelect"))):(e(ue("Group")),e(le("JoinRegister")))};return Object(je.jsx)(je.Fragment,{children:Object(je.jsxs)("div",{className:"GroupManageContainer",children:[Object(je.jsx)("div",{className:"CreateBtn",children:Object(je.jsx)("button",{className:"ActionButton",id:"Abtn",onClick:function(){return t("Add")},children:"CREATE A GROUP"})}),Object(je.jsx)("div",{className:"JoinBtn",children:Object(je.jsx)("button",{className:"ActionButton",id:"Jbtn",onClick:function(){return t("Join")},children:"JOIN A GROUP"})})]})})},mt=(n(20),function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.group.selectedGroup.groupDetails.passcode})),n=function(t){e(le(t))};return Object(je.jsx)(je.Fragment,{children:Object(je.jsxs)("div",{className:"MenuContainer",children:[Object(je.jsxs)("h3",{children:["Group Passcode: ",t]}),Object(je.jsxs)("div",{className:"MenuBody",children:[Object(je.jsx)("h2",{style:{cursor:"pointer"},onClick:function(){return n("Passcode")},children:"Change Passcode"}),Object(je.jsx)("h2",{style:{cursor:"pointer"},onClick:function(){return n("ManageMembers")},children:"Manage Members"}),Object(je.jsx)("h2",{style:{cursor:"pointer"},onClick:function(){return n("Delete")},children:"Delete Group"})]}),Object(je.jsx)("div",{className:"MenuFooter",children:Object(je.jsx)("button",{className:"ExitMenuBtn",onClick:function(){return console.log("HI")},children:"Exit"})})]})})}),Ot=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(o.a)(r,2),i=s[0],l=s[1],d=Object(u.b)(),j=Object(u.c)((function(e){return e.group.selectedGroup.groupDetails.id}));return Object(je.jsxs)(je.Fragment,{children:[Object(je.jsxs)("div",{className:"PasscodeContainer",style:{display:i?"none":"block"},children:[Object(je.jsxs)("div",{className:"PasscodeBody",children:[Object(je.jsx)("h2",{children:"Enter a New Passcode"}),Object(je.jsx)("input",{className:"PasscodeInput",placeholder:"Passcode",onChange:function(e){return c(e.target.value)}})]}),Object(je.jsx)("div",{style:{marginTop:"10%"},children:Object(je.jsx)("div",{className:"SubmitPasscode",children:Object(je.jsx)("button",{className:"PasscodeSubmitBtn",onClick:function(){return function(){var e={GroupID:j,newPass:n};p.a.post("http://localhost:3005/api/groups/edit",{PassObject:e}).then((function(e){l(!0)})).catch((function(e){console.log(e)}))}()},children:"Change Passcode"})})})]}),Object(je.jsxs)("div",{style:{display:i?"block":"none"},children:["Passcode Change Successful!",Object(je.jsx)("div",{className:"PasscodeConfirmation",children:Object(je.jsx)("button",{style:{fontSize:22,cursor:"pointer"},onClick:function(){return d(Se()),void d(de())},children:"Ok"})})]})]})},ht=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(null),s=Object(o.a)(r,2),i=s[0],l=s[1],b=Object(u.c)((function(e){return e.group.selectedGroup.groupDetails.id})),m=Object(u.c)((function(e){return e.group.selectedGroup.groupMembers})),O=Object(u.b)(),h=function(){c(!1),O(function(e,t){return function(n){p.a.post("/api/groups/removeUser",{groupID:e,userID:t}).then(n({type:S,payload:t})).catch((function(e){return n(te(e.response.data,e.response.status))}))}}(b,i))};return Object(a.useEffect)((function(){function e(){return(e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(ve(b));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{className:"MainMemberModal",style:{display:n?"none":"block"},children:Object(je.jsxs)("div",{className:"body",children:[Object(je.jsx)("h1",{children:"Members"}),Object(je.jsxs)("div",{className:"MemberModalHeaderItem",children:[Object(je.jsx)("div",{className:"NameHeader",children:"Name"}),Object(je.jsx)("div",{className:"RoleHeader",children:"Role"}),Object(je.jsx)("div",{className:"IconHeader",children:"Action"})]}),Object(je.jsx)("div",{className:"MemberModalContainer",children:m&&m.map((function(e,t){return Object(je.jsxs)("div",{className:"MemberItem",children:[Object(je.jsx)("div",{className:"MemberName",children:e.name}),Object(je.jsx)("div",{className:"MemberRole",children:e.role}),Object(je.jsxs)("div",{className:"MemberActionBtns",children:["Admin"!==e.role&&Object(je.jsx)(Ke.c,{style:{color:"red",cursor:"pointer"},onClick:function(){return t=e.id,c(!0),void l(t);var t}}),"Admin"===e.role&&Object(je.jsx)(Ke.e,{})]})]},t)}))})]})}),Object(je.jsx)("div",{className:"ConfirmationModal",style:{display:n?"block":"none"},children:Object(je.jsxs)("div",{className:"ConfirmBody",style:{marginTop:"30%"},children:[Object(je.jsx)("div",{children:"Are you sure you want to delete this user?"}),Object(je.jsx)("button",{onClick:function(){c(!1),l(null)},style:{backgroundColor:"red",borderRadius:15,padding:"1%",color:"white",fontSize:30,cursor:"pointer"},children:"NO"}),Object(je.jsx)("button",{onClick:function(){return h()},style:{backgroundColor:"green",borderRadius:15,padding:"1%",color:"white",fontSize:30,cursor:"pointer"},children:"YES"})]})})]})},ft=function(){var e=Object(u.c)((function(e){return e.group.selectedGroup.groupDetails.id})),t=Object(u.b)(),n=function(){var n;t((n=e,function(e){p.a.delete("/api/groups/delete?groupid=".concat(n)).then(e({type:R,payload:n})).catch((function(t){return e(te(t.response.data,t.response.status))}))})),t(Se()),t(de())};return Object(je.jsx)(je.Fragment,{children:Object(je.jsxs)("div",{className:"ConfirmDeleteContainer",children:[Object(je.jsx)("div",{className:"body",children:"Are you sure you want to delete this group?"}),Object(je.jsxs)("div",{className:"footer",children:[Object(je.jsx)("button",{onClick:function(){t(le("GroupMenu"))},style:{backgroundColor:"red",borderRadius:15,padding:"1%",color:"white",fontSize:30,cursor:"pointer"},children:"NO"}),Object(je.jsx)("button",{onClick:function(){return n()},style:{backgroundColor:"green",borderRadius:15,padding:"1%",color:"white",fontSize:30,cursor:"pointer",marginLeft:"10%"},children:"YES"})]})]})})},xt=function(){var e=Object(u.c)((function(e){return e.modal.activeModal.activePage})),t=Object(u.c)((function(e){return e.group.selectedGroup.displayEditGroupModal})),n=Object(a.useState)(Object(je.jsx)(mt,{})),c=Object(o.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)("Menu"),l=Object(o.a)(i,2),b=l[0],p=l[1],m=Object(u.b)(),O=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(Se()),m(de());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){switch(e){case"GroupMenu":s(Object(je.jsx)(mt,{})),p("Menu");break;case"Passcode":s(Object(je.jsx)(Ot,{})),p("Change Passcode");break;case"ManageMembers":s(Object(je.jsx)(ht,{})),p("Manage Members");break;case"Delete":s(Object(je.jsx)(ft,{})),p("Delete Group")}t&&window.addEventListener("click",(function(e){e.target&&"GrpModalBackground"===e.target.className&&(m(Se()),m(de()))}))}),[e]),Object(je.jsx)(je.Fragment,{children:Object(je.jsx)("div",{className:"GrpModalBackground",children:Object(je.jsxs)("div",{className:"GrpModalContainer",children:[Object(je.jsxs)("div",{className:"GrpModalHeader",children:[Object(je.jsx)("div",{children:Object(je.jsx)(Ke.b,{onClick:function(){m(le("GroupMenu"))},style:{cursor:"pointer",visibility:"Menu"===b?"hidden":"visible"}})}),Object(je.jsx)("div",{children:b}),Object(je.jsx)("div",{className:"modalCloseButton",children:Object(je.jsx)("button",{onClick:function(){return O()},style:{fontSize:22,cursor:"pointer"},children:"X"})})]}),r]})})})},gt=function(){var e=Object(a.useState)(0),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(u.b)(),s=function(){var e;r((e={Mode:n},function(t){console.log(e),t({type:Z,payload:{addGroupSettings:e}})})),r(le("GroupRegister"))};return Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{style:{textAlign:"center"},children:Object(je.jsx)("h2",{children:"Pick a type of Group"})}),Object(je.jsxs)("div",{className:"ModeSelectBody",children:[Object(je.jsxs)("div",{className:"ModeBtn",children:[Object(je.jsx)("input",{type:"radio",className:"radBtn",value:"Secret Santa",name:"groupmode",onClick:function(){return c(0)},defaultChecked:!0}),"Secret Santa",Object(je.jsx)("div",{className:"ModeInfo",children:"Group Size: Any"})]}),Object(je.jsxs)("div",{className:"ModeBtn",children:[Object(je.jsx)("input",{type:"radio",className:"radBtn",value:"Wedding",onClick:function(){return c(1)},name:"groupmode"})," ","Wedding",Object(je.jsx)("div",{className:"ModeInfo",children:"Group Size: 1"})]}),Object(je.jsxs)("div",{className:"ModeBtn",children:[Object(je.jsx)("input",{type:"radio",className:"radBtn",value:"Other",onClick:function(){return c(2)},name:"groupmode"})," ","Other",Object(je.jsx)("div",{className:"ModeInfo",children:"Group Size: Any"})]})]}),Object(je.jsx)("div",{className:"ModeSelectFooter",children:Object(je.jsx)("button",{className:"ModeSelectBtn",onClick:function(){return s()},children:"Choose Mode"})})]})},vt=function(){var e=Object(u.c)((function(e){return e.auth.user.id})),t=Object(u.c)((function(e){return e.modal.modalData.addGroupSettings.Mode})),n=Object(a.useState)(""),c=Object(o.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(""),l=Object(o.a)(i,2),b=l[0],p=l[1],m=Object(a.useState)(""),O=Object(o.a)(m,2),h=O[0],f=O[1],x=Object(u.b)(),g=function(){var n=Object(j.a)(d.a.mark((function n(){var a,c;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={groupName:r,passcode:b,userid:e,groupMode:t},n.next=3,x(ye(a));case 3:c=n.sent,console.log(c),"Success"===c?x(le("AddSuccess")):f(c);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{className:"GroupRegisterHeader",children:Object(je.jsx)("h1",{children:"Name and Passcode"})}),Object(je.jsxs)("div",{className:"GroupRegisterBody",children:[h&&Object(je.jsx)("div",{children:h}),Object(je.jsx)("p",{children:"Enter a name for your group"}),Object(je.jsx)("input",{className:"modalInput",placeholder:"Enter name",onChange:function(e){return s(e.target.value)}}),Object(je.jsx)("p",{children:"Enter a passcode for your group"}),Object(je.jsx)("input",{className:"modalInput",placeholder:"Enter Passcode",onChange:function(e){return p(e.target.value)}})]}),Object(je.jsx)("div",{className:"GroupRegisterFooter",children:Object(je.jsxs)("button",{className:"GroupRegisterBtn",onClick:function(){return g()},children:[" ","Create Group"]})})]})},yt=function(){var e=Object(u.b)();return Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{className:"GroupRegisterHeader",children:Object(je.jsx)("h1",{children:"Success!"})}),Object(je.jsxs)("div",{className:"GroupRegisterBody",children:["Your group has been created.",Object(je.jsx)(Me.a,{to:"/",onClick:function(){return e(de())},style:{textDecoration:"none"},children:Object(je.jsx)("button",{className:"AddSuccessBtn",children:"Start adding items"})})]})]})},Nt=function(){var e=Object(u.c)((function(e){return e.auth.user.id})),t=Object(a.useState)(0),n=Object(o.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),i=Object(o.a)(s,2),l=i[0],b=i[1],p=Object(a.useState)(null),m=Object(o.a)(p,2),O=m[0],h=m[1],f=Object(u.b)(),x=function(){var t=Object(j.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(Ne(l,c,e));case 2:"Success"===(n=t.sent)?f(de()):h(n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(je.jsx)(je.Fragment,{children:Object(je.jsxs)("div",{className:"JoinContainer",children:[Object(je.jsxs)("div",{className:"JoinBody",children:[O&&Object(je.jsx)("div",{children:O}),Object(je.jsxs)("div",{className:"JoinInput",children:[Object(je.jsx)("p",{children:"Enter a group name"}),Object(je.jsx)("input",{className:"modalInput",placeholder:"Enter name",onChange:function(e){return b(e.target.value)}})]}),Object(je.jsxs)("div",{className:"JoinInput",children:[Object(je.jsx)("p",{children:"Enter the group passcode"}),Object(je.jsx)("input",{className:"modalInput",placeholder:"Enter Passcode",onChange:function(e){return r(e.target.value)}})]})]}),Object(je.jsx)("button",{className:"JoinButton",onClick:function(){return x()},children:"Join Group"})]})})},It=function(){var e=Object(u.c)((function(e){return e.modal.activeModal.activePage})),t=Object(u.c)((function(e){return e.modal.activeModal.modalType})),n=Object(a.useState)(Object(je.jsx)(gt,{})),c=Object(o.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)("ModeSelect"),l=Object(o.a)(i,2),d=l[0],j=l[1],b=Object(u.b)();return Object(a.useEffect)((function(){switch(e){case"ModeSelect":s(Object(je.jsx)(gt,{})),j("Create a Group");break;case"GroupRegister":s(Object(je.jsx)(vt,{}));break;case"AddSuccess":s(Object(je.jsx)(yt,{}));break;case"JoinRegister":s(Object(je.jsx)(Nt,{})),j("Join a Group")}"Group"===t&&window.addEventListener("click",(function(e){e.target&&"GrpModalBackground"===e.target.className&&b(de())}))}),[t,e]),Object(je.jsx)(je.Fragment,{children:Object(je.jsx)("div",{className:"GrpModalBackground",children:Object(je.jsxs)("div",{className:"AddGrpModalContainer",children:[Object(je.jsxs)("div",{className:"GrpModalHeader",children:[Object(je.jsx)("div",{children:Object(je.jsx)(Ke.b,{onClick:function(){b(le("ModeSelect"))},style:{cursor:"pointer",visibility:"ModeSelect"===e||"JoinRegister"===e||"AddSuccess"===e?"hidden":"visible"}})}),Object(je.jsx)("div",{children:d}),Object(je.jsx)("div",{className:"modalCloseButton",children:Object(je.jsx)("button",{onClick:function(){b(de())},style:{fontSize:22,cursor:"pointer"},children:"X"})})]}),r]})})})},wt=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.group.selectedGroup.displayEditGroupModal})),n=Object(u.c)((function(e){return e.modal.activeModal.modalType}));return Object(a.useEffect)((function(){function t(){return(t=Object(j.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(re());case 2:n=t.sent,e(xe(n));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(je.jsx)(je.Fragment,{children:Object(je.jsxs)("div",{className:"container",children:[t&&Object(je.jsx)(xt,{}),"Group"===n&&Object(je.jsx)(It,{}),Object(je.jsx)(Te,{title:"Manage Groups"}),Object(je.jsx)(pt,{}),Object(je.jsxs)("div",{className:"groupTypesContainer",children:[Object(je.jsxs)("div",{className:"ownedGroups",children:[Object(je.jsx)("h1",{children:"Owned Groups"}),Object(je.jsx)(bt,{FilterType:"Admin"})]}),Object(je.jsxs)("div",{className:"otherGroups",children:[Object(je.jsx)("h1",{children:"Other Groups"}),Object(je.jsx)(bt,{FilterType:"Member"})]})]})]})})},Et=(n(105),function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(St()),t.next=3,p.a.get("/api/users/?userid=".concat(e)).then((function(e){return n({type:X,payload:e.data}),e.data})).catch((function(e){return n(te(e.response.data,e.response.status))}));case 3:return a=t.sent,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),St=function(){return{type:K}},Mt=function(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)("DefaultProfileImage"),i=Object(o.a)(s,2),l=i[0],b=i[1],p=Object(u.b)(),m=e.match.params.id,O=e.match.params.gid;return Object(a.useEffect)((function(){function e(){return(e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(Et(m));case 2:return t=e.sent,r(t[0].name),b(t[0].profileimage),e.next=7,p(ge(O));case 7:return e.next=9,p(Fe(m,O));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(je.jsx)(je.Fragment,{children:Object(je.jsxs)("div",{className:"UserPageContainer",children:[Object(je.jsx)(Te,{title:"User Page"}),Object(je.jsxs)("div",{className:"UserInfo",children:[Object(je.jsx)("div",{className:"UserName",children:c}),Object(je.jsx)("div",{className:"UserImage",children:Object(je.jsx)("img",{height:"100%",width:"100%",src:"/api/images/".concat(l)})})]}),Object(je.jsx)("div",{className:"registryContainer",children:Object(je.jsx)(Ye,{})})]})})},kt=(n(106),function(){var e=Object(u.c)((function(e){return e.auth.user})),t=Object(u.b)(),n=function(){var n=Object(j.a)(d.a.mark((function n(a){var r,s,i,o;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=a.target.files[0],n.next=3,c({image:r});case 3:s=n.sent,i=s.Key,o={id:e.id,name:e.name,profileImage:i},t(se(o));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),c=function(){var e=Object(j.a)(d.a.mark((function e(n){var a,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.image,(c=new FormData).append("image",a),e.next=5,t($e(c));case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){function e(){return(e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(re());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(je.jsx)(je.Fragment,{children:Object(je.jsxs)("div",{className:"ProfileContainer",children:[Object(je.jsx)(Te,{title:"Profile Page"}),e.profileimage&&Object(je.jsxs)("div",{className:"ProfileInfo",children:[Object(je.jsx)("h1",{children:e.name}),Object(je.jsx)("h2",{children:e.email}),Object(je.jsx)("br",{}),Object(je.jsx)("img",{src:"/api/images/".concat(e.profileimage),width:150,height:150,style:{borderRadius:15}}),Object(je.jsxs)("div",{style:{marginTop:15,marginBottom:15},children:[Object(je.jsx)("input",{type:"file",id:"imgUpload",style:{display:"none"},onChange:n,accept:"image/*"}),Object(je.jsx)("label",{htmlFor:"imgUpload",className:"ProfileImgBtn",children:"Upload a new image"})]})]})]})})}),Gt=(n(107),function(e){var t=e.match.params.id,n=Object(u.b)(),c=Object(a.useState)(""),r=Object(o.a)(c,2),s=r[0],i=r[1],l=Object(a.useState)(""),b=Object(o.a)(l,2),p=b[0],m=b[1],O=Object(a.useState)(!1),h=Object(o.a)(O,2),f=h[0],x=h[1],g=Object(a.useState)(null),v=Object(o.a)(g,2),y=v[0],N=v[1],I=function(){var e=Object(j.a)(d.a.mark((function e(a){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,n(ie(t,s,p));case 3:201===(c=e.sent).status?x(!0):x(!1),N(c.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(je.jsx)(je.Fragment,{children:Object(je.jsx)("div",{className:"ResetPageContainer",children:Object(je.jsxs)("div",{className:"ResetPageBody",children:[Object(je.jsx)("h1",{children:"Password Reset"}),y&&Object(je.jsx)("div",{children:y}),Object(je.jsx)("div",{className:"ResetForm",style:{display:!0===f?"none":"block"},children:Object(je.jsx)("form",{onSubmit:I,children:Object(je.jsxs)("div",{className:"reset-form-inner",children:[Object(je.jsx)("div",{className:"reset-form-group",children:Object(je.jsx)("input",{type:"code",name:"code",id:"resetCode",placeholder:"Reset Code",onChange:function(e){return i(e.target.value)}})}),Object(je.jsx)("div",{className:"reset-form-group",children:Object(je.jsx)("input",{type:"password",name:"password",id:"resetPassword",placeholder:"New Password",onChange:function(e){return m(e.target.value)}})}),Object(je.jsx)("div",{className:"submitButton",children:Object(je.jsx)("input",{type:"submit",value:"Change Password",style:{width:250,marginTop:"1rem"}})})]})})}),Object(je.jsxs)("div",{className:"ResetSuccess",style:{display:!0===f?"block":"none"},children:[Object(je.jsx)("h4",{children:"You can now close this window or click the button below."}),Object(je.jsx)(Me.a,{to:"/login",children:Object(je.jsx)("button",{style:{cursor:"pointer"},children:"Click here to go to the login page"})})]})]})})})});var Ct=function(){var e=Object(u.c)((function(e){return e.auth.isAuthenticated}));return Object(je.jsx)(je.Fragment,{children:Object(je.jsx)(i.c,{history:ce,children:Object(je.jsxs)(i.d,{children:[Object(je.jsx)(i.b,{path:"/login",component:fe}),Object(je.jsx)(i.b,{path:"/groups/:gid/users/:id",exact:!0,component:Mt}),Object(je.jsx)(i.b,{path:"/groups/:id",component:lt}),Object(je.jsx)(i.b,{path:"/passwordReset/:id",component:Gt}),Object(je.jsx)(Le,{path:"/managegroups",isAuthenticated:e,component:wt}),Object(je.jsx)(Le,{path:"/profile",isAuthenticated:e,component:kt}),Object(je.jsx)(Le,{path:"/",isAuthenticated:e,component:ot})]})})})},Rt=n(23),Pt=n(59),Dt={message:null,status:null,id:null};var At=n(27),Lt={groups:null,currentGroup:{Group:{id:null,name:null,groupname:null,role:null}},selectedGroup:{displayEditGroupModal:!1,groupDetails:null,groupMembers:null},addGroup:{displayAddGroupmodal:!1},pageGroup:[],loading:!1};var Tt={items:null,memberItems:null,selectedItem:{displayEditModal:!1,itemDetails:null},itemAddition:{displayAddModal:!1},loading:!1};var _t={externalUser:null,loading:!1};var Bt={activeModal:{modalType:null,activePage:null},modalData:null};var Ut=Object(Rt.b)({error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return{message:t.payload.message,status:t.payload.status,id:t.payload.id};case W:return{message:null,status:null,id:null};default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(pe.a)(Object(pe.a)({},e),{},{isLoading:!0});case _:case B:case B:return Object(pe.a)(Object(pe.a)({},e),{},{isAuthenticated:!0,isLoading:!1,user:t.payload});case F:case z:return localStorage.setItem("token",t.payload.token),Object(pe.a)(Object(pe.a)(Object(pe.a)({},e),t.payload),{},{isAuthenticated:!0,isLoading:!1});case U:case H:case J:case V:return localStorage.removeItem("token"),Object(pe.a)(Object(pe.a)({},e),{},{token:null,user:null,isAuthenticated:!1,isLoading:!1});default:return e}},group:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(pe.a)(Object(pe.a)({},e),{},{groups:t.payload,loading:!1});case I:return Object(pe.a)(Object(pe.a)({},e),{},{pageGroup:t.payload,loading:!1});case D:return Object(pe.a)(Object(pe.a)({},e),{},{selectedGroup:{displayEditGroupModal:e.selectedGroup.displayEditGroupModal,groupDetails:Object(pe.a)({},e.selectedGroup.groupDetails),groupMembers:t.payload},loading:!1});case k:return Object(pe.a)(Object(pe.a)({},e),{},{currentGroup:t.payload});case G:case C:return Object(pe.a)(Object(pe.a)({},e),{},{selectedGroup:t.payload});case S:return Object(pe.a)(Object(pe.a)({},e),{},{selectedGroup:{displayEditGroupModal:e.selectedGroup.displayEditGroupModal,groupDetails:Object(pe.a)({},e.selectedGroup.groupDetails),groupMembers:e.selectedGroup.groupMembers.filter((function(e){return e.id!==t.payload}))}});case M:case R:return Object(pe.a)(Object(pe.a)({},e),{},{groups:e.groups.filter((function(e){return e.id!==t.payload}))});case w:case E:return Object(pe.a)(Object(pe.a)({},e),{},{groups:[t.payload].concat(Object(At.a)(e.groups))});case A:case P:case L:return Object(pe.a)(Object(pe.a)({},e),{},{loading:!0});default:return e}},item:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(pe.a)(Object(pe.a)({},e),{},{memberItems:t.payload,loading:!1});case O:return Object(pe.a)(Object(pe.a)({},e),{},{memberItems:[].concat(Object(At.a)(e.memberItems),[t.payload]),loading:!1});case h:return Object(pe.a)(Object(pe.a)({},e),{},{image:t.payload,loading:!1});case f:return Object(pe.a)(Object(pe.a)({},e),{},{memberItems:e.memberItems.filter((function(e){return e.itemid!==t.payload}))});case x:var n=e.memberItems,a=e.memberItems.findIndex((function(e){return e.itemid===t.payload.payload.itemid}));return n[a]=t.payload.payload,Object(pe.a)(Object(pe.a)({},e),{},{selectedItem:t.payload,memberItems:n});case g:case v:return Object(pe.a)(Object(pe.a)({},e),{},{selectedItem:t.payload});case y:return Object(pe.a)(Object(pe.a)({},e),{},{loading:!0});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return Object(pe.a)(Object(pe.a)({},e),{},{externalUser:t.payload,loading:!1});case K:return Object(pe.a)(Object(pe.a)({},e),{},{loading:!0});case Q:return Object(pe.a)(Object(pe.a)({},e),{},{externalUser:t.payload});default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object(pe.a)(Object(pe.a)({},e),{},{activeModal:t.payload});case $:return Object(pe.a)(Object(pe.a)({},e),{},{activeModal:{activePage:t.payload,modalType:e.activeModal.modalType}});case ee:return Object(pe.a)(Object(pe.a)({},e),{},{activeModal:"Main",modalData:null});case Z:return Object(pe.a)(Object(pe.a)({},e),{},{modalData:t.payload});default:return e}}}),Ft=[Pt.a],Ht=Object(Rt.d)(Ut,{},Object(Rt.c)(Rt.a.apply(void 0,Ft),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(je.jsx)(c.a.StrictMode,{children:Object(je.jsx)(u.a,{store:Ht,children:Object(je.jsx)(Ct,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},20:function(e,t,n){},28:function(e,t,n){},34:function(e,t,n){},38:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},65:function(e,t,n){},89:function(e,t,n){}},[[108,1,2]]]);
//# sourceMappingURL=main.eafd3abe.chunk.js.map