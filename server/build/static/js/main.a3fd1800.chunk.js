(this.webpackJsonpgifthandler=this.webpackJsonpgifthandler||[]).push([[0],{103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),r=n(24),s=n.n(r),i=(n(64),n(10)),o=(n(28),n(6)),u=n(3),l=n(11),d=n(5),j=n.n(d),b=n(7),p=n(9),m=n.n(p),O="GET_ITEMS",h="ADD_ITEM",f="ADD_IMAGE",x="DELETE_ITEM",g="EDIT_ITEM",v="SELECT_EDIT_ITEM",y="UNSELECT_EDIT_ITEM",N="ITEMS_LOADING",I="GET_GROUPS",G="GET_GROUP",E="ADD_GROUP",M="ADD_GROUP_MEMBER",S="REMOVE_GROUP_MEMBER",w="LEAVE_GROUP",k="SET_ACTIVE_GROUP",C="SELECT_EDIT_GROUP",D="UNSELECT_EDIT_GROUP",A="DELETE_GROUP",L="GROUPS_LOADING",P="GET_GROUP_MEMBERS",T="GROUP_LOADING",R="GROUP_MEMBERS_LOADING",_="USER_LOADING",U="USER_LOADED",B="UPDATE_USER",F="AUTH_ERROR",H="LOGIN_SUCCESS",J="LOGIN_FAIL",z="LOGOUT_SUCCESS",V="REGISTER_SUCCESS",q="REGISTER_FAIL",X="GET_ERRORS",K="CLEAR_ERRORS",Q="GET_EXT_USER",W="EXT_USER_LOADING",Y="UPDATE_EXT_USER",$="SET_ACTIVE_MODAL",Z="SET_MODAL_PAGE",ee="UPDATE_MODAL_DATA",te="DEACTIVATE_MODAL",ne=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:X,payload:{message:e,status:t,id:n}}},ae=function(){return{type:K}},ce=n(15),re=Object(ce.a)(),se=function(){return function(){var e=Object(b.a)(j.a.mark((function e(t,n){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:_}),a="",n().auth.token&&(a=n().auth.token),e.next=5,m.a.get("/api/auth/user?token=".concat(a)).then((function(e){return t({type:U,payload:e.data}),e.data.id})).catch((function(e){t(ne(e.response.data,e.response.status)),t({type:F})}));case 5:return c=e.sent,console.log(c),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},ie=function(e){return function(t){m.a.post("/api/auth/update",{UID:e.id,name:e.name,profileImage:e.profileImage}).then((function(e){t({type:B,payload:e.data})})).catch((function(e){console.log(e)}))}},oe=n(1),ue=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(o.a)(r,2),i=s[0],d=s[1],j=Object(u.b)(),b=Object(u.c)((function(e){return e.error.message}));return Object(a.useEffect)((function(){j(ae())}),[]),Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)("div",{className:"LoginFormContainer",children:[Object(oe.jsx)("h1",{children:"Gift Handler"}),b&&Object(oe.jsx)("div",{children:b}),Object(oe.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j(function(e){var t=e.email,n=e.password;return function(e){m.a.post("/api/auth/login",{email:t,password:n}).then((function(t){e({type:H,payload:t.data}),re.push("/")})).catch((function(t){e(ne(t.response.data.error.message,t.response.status,"LOGIN_FAIL")),e({type:J})}))}}({email:n,password:i}))},children:[Object(oe.jsxs)("div",{className:"form-inner",children:[Object(oe.jsx)("div",{className:"form-group",children:Object(oe.jsx)("input",{type:"email",name:"email",id:"email",placeholder:"Email",onChange:function(e){return c(e.target.value)}})}),Object(oe.jsx)("div",{className:"form-group",children:Object(oe.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"Password",onChange:function(e){return d(e.target.value)}})}),Object(oe.jsx)("div",{className:"submitButton",children:Object(oe.jsx)("input",{type:"submit",value:"LOGIN",style:{width:250,marginTop:"1rem"}})})]}),Object(oe.jsxs)("div",{className:"registerFooter",children:[Object(oe.jsx)("div",{children:"Don't have an account?"}),Object(oe.jsx)(l.a,{to:"/register",className:"registerButton",children:"Register"})]})]})]})})},le=function(){return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)("div",{className:"LoginContainer",children:Object(oe.jsx)(ue,{})})})},de=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(o.a)(r,2),i=s[0],d=s[1],j=Object(a.useState)(""),b=Object(o.a)(j,2),p=b[0],O=b[1],h=Object(a.useState)(null),f=Object(o.a)(h,2),x=(f[0],f[1],Object(u.c)((function(e){return e.error.message}))),g=Object(u.b)();return Object(a.useEffect)((function(){g(ae())}),[]),Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)("div",{className:"RegisterFormContainer",children:[Object(oe.jsx)("h1",{children:"Gift Handler"}),x&&Object(oe.jsx)("div",{children:x}),Object(oe.jsx)("form",{onSubmit:function(e){e.preventDefault(),g(function(e){var t=e.name,n=e.email,a=e.password;return function(e){m.a.post("/api/auth/register",{name:t,email:n,password:a}).then((function(t){e({type:V,payload:t.data}),re.push("/")})).catch((function(t){e(ne(t.response.data,t.response.status,"REGISTER_FAIL")),e({type:q})}))}}({name:n,email:i,password:p}))},children:Object(oe.jsxs)("div",{className:"form-inner",children:[Object(oe.jsx)("div",{className:"form-group",children:Object(oe.jsx)("input",{type:"name",name:"name",id:"name",placeholder:"Name",onChange:function(e){return c(e.target.value)}})}),Object(oe.jsx)("div",{className:"form-group",children:Object(oe.jsx)("input",{type:"email",name:"email",id:"email",placeholder:"Email",onChange:function(e){return d(e.target.value)}})}),Object(oe.jsx)("div",{className:"form-group",children:Object(oe.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"Password",onChange:function(e){return O(e.target.value)}})}),Object(oe.jsx)("div",{className:"submitButton",children:Object(oe.jsx)("input",{type:"submit",value:"Register",style:{width:250,marginTop:"1rem"}})}),Object(oe.jsxs)("div",{className:"registerFooter",children:[Object(oe.jsx)("div",{children:"Already have an account?"}),Object(oe.jsx)(l.a,{to:"/login",className:"registerButton",children:"Login"})]})]})})]})})},je=function(){return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)("div",{className:"LoginContainer",children:Object(oe.jsx)(de,{})})})},be=(n(48),function(e){return function(t){t(fe()),m.a.get("/api/groups/user?userid=".concat(e),{}).then((function(e){return t({type:I,payload:e.data})})).catch((function(e){return t(ne(e.response.data,e.response.status))}))}}),pe=function(e){return function(){var t=Object(b.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(xe()),t.next=3,m.a.get("/api/groups?groupid=".concat(e)).then((function(e){return n({type:G,payload:e.data}),e.data})).catch((function(e){return n(ne(e.response.data,e.response.status))}));case 3:return a=t.sent,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},me=function(e){return function(){var t=Object(b.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(ge()),t.next=3,m.a.get("/api/groups/members?groupid=".concat(e),{}).then((function(e){return n({type:P,payload:e.data}),e.data})).catch((function(e){return n(ne(e.response.data,e.response.status))}));case 3:return a=t.sent,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Oe=function(e){return function(){var t=Object(b.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.post("/api/groups/create",{GroupDetails:e}).then((function(e){return n({type:E,payload:e.data}),"Success"})).catch((function(e){return n(ne(e.response.data,e.response.status)),e.response.data}));case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},he=function(e,t,n){return function(){var a=Object(b.a)(j.a.mark((function a(c){var r;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m.a.post("/api/groups/users",{groupname:e,passcode:t,userid:n}).then((function(e){return c({type:M,payload:e.data}),"Success"})).catch((function(e){return c(ne(e.response.data,e.response.status)),e.response.data}));case 2:return r=a.sent,a.abrupt("return",r);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},fe=function(){return{type:L}},xe=function(){return{type:T}},ge=function(){return{type:R}},ve=function(){return function(e){e({type:D,payload:{displayEditGroupModal:!1,groupDetails:null}})}},ye=(n(89),n(51)),Ne=n(32),Ie=n(38),Ge=[{title:"Home",path:"/",icon:Object(oe.jsx)(Ne.a,{}),cName:"nav-text"},{title:"Groups",path:"/managegroups",icon:Object(oe.jsx)(Ie.a,{}),cName:"nav-text"},{title:"Profile",path:"/profile",icon:Object(oe.jsx)(Ie.a,{}),cName:"nav-text"}],Ee=n(0),Me=n(4),Se=n(59),we=["component"];function ke(e){var t=e.component,n=Object(Se.a)(e,we);return Object(oe.jsx)(i.b,Object(Me.a)(Object(Me.a)({},n),{},{render:function(e){return localStorage.getItem("token")?Object(oe.jsx)(t,Object(Me.a)({},e)):Object(oe.jsx)(i.a,{to:"/login"})}}))}function Ce(e){var t=e.title,n=Object(a.useState)(!1),c=Object(o.a)(n,2),r=c[0],s=c[1],i=Object(u.b)(),d=function(){return s(!r)};return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)(Ee.b.Provider,{value:{color:"white"},children:[Object(oe.jsxs)("div",{className:"navBar",style:{color:"white"},children:[Object(oe.jsx)(l.a,{to:"#",className:"menu-bars",children:Object(oe.jsx)(ye.a,{onClick:d})}),Object(oe.jsx)("div",{className:"navText",style:{fontSize:25},children:t})]}),Object(oe.jsx)("nav",{className:r?"nav-menu active":"nav-menu",children:Object(oe.jsxs)("ul",{className:"nav-menu-items",children:[Object(oe.jsx)("li",{className:"navbar-toggle",onClick:d,children:Object(oe.jsx)(Ne.b,{style:{cursor:"pointer"}})}),Ge.map((function(e,t){return Object(oe.jsx)(l.a,{to:e.path,style:{textDecoration:"none",color:"white"},children:Object(oe.jsx)("li",{className:e.cName,onClick:d,children:Object(oe.jsx)("div",{className:"sidebarItem",children:e.title})},t)})})),Object(oe.jsx)("hr",{}),Object(oe.jsx)("li",{className:"nav-text",children:Object(oe.jsx)("div",{className:"sidebarItem",children:Object(oe.jsx)(l.a,{to:"/login",onClick:function(){i({type:z})},style:{textDecoration:"none",color:"white"},children:"Sign Out"})})})]})})]})})}var De=n(52),Ae=n(53),Le=n.n(Ae),Pe=function(e,t){return function(){var n=Object(b.a)(j.a.mark((function n(a){var c;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(Ue()),n.next=3,m.a.get("/api/items/user?userid=".concat(e,"&groupid=").concat(t),{}).then((function(e){return a({type:O,payload:e.data}),e.data})).catch((function(e){return a(ne(e.response.data,e.response.status))}));case 3:return c=n.sent,n.abrupt("return",c);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Te=function(e){return function(t){m.a.post("/api/items/add",{Item:e}).then((function(e){return t({type:h,payload:e.data}),e.data})).catch((function(e){return t(ne(e.response.data,e.response.status))}))}},Re=function(e){return function(t){m.a.post("/api/items/edit",{item:e}).then((function(e){t({type:g,payload:{payload:e.data}})})).catch((function(e){return t(ne(e.response.data,e.response.status))}))}},_e=function(){return function(e){e({type:y,payload:{displayEditModal:!1,itemDetails:null}})}},Ue=function(){return{type:N}},Be=function(e){Object(De.a)(e);var t=Object(a.useState)("Select a Group"),n=Object(o.a)(t,2),c=n[0],r=n[1],s=Object(u.c)((function(e){return e.group.groups})),i=Object(u.c)((function(e){return e.group.currentGroup.Group})),d=Object(u.c)((function(e){return e.auth.user.id})),p=Object(u.c)((function(e){return e.item.itemAddition.displayAddModal})),m=Object(u.c)((function(e){return e.item.selectedItem.displayEditModal})),O=Object(u.b)(),h=function(e){if(e.length>0){O((n=e[0],function(e){e({type:k,payload:{Group:n}})}));var t=e[0].id;O(Pe(d,t)),r(e[0].name)}var n};return Object(a.useEffect)((function(){function e(){return(e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.id&&O(Pe(d,i.id)),i.groupname&&r(i.groupname);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)("div",{style:{textAlign:"center"},children:Object(oe.jsxs)("div",{className:"ActiveGroupHeader",style:{visibility:p||m?"hidden":"visible"},children:["Select a Group",s&&0!==s.length&&Object(oe.jsx)("div",{style:{position:"absolute",left:"50%",display:"flex"},children:Object(oe.jsx)("div",{style:{position:"relative",left:"-50%"},children:Object(oe.jsx)(Le.a,{options:s,onChange:function(e){return h(e)},values:[s[0]],labelField:"groupname",valueField:"id",placeholder:"".concat(c," "),style:{width:500,margin:"auto",textAlign:"center"},dropdownHeight:"200px",dropdownGap:-5,searchable:!1})})}),s&&0===s.length&&Object(oe.jsx)(l.a,{to:"/managegroups",style:{textDecoration:"none"},children:Object(oe.jsx)("div",{className:"NullGroupPrompt",children:"Join Or Create a Group!"})})]})})})},Fe=(n(29),function(e){var t=Object(u.b)(),n=function(){t(function(e){return function(t){t({type:v,payload:{displayEditModal:!0,itemDetails:e}})}}(e))};return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)("div",{className:"ItemDetailContainer",onClick:function(){return n()},children:[Object(oe.jsx)("div",{className:"ItemImage",children:Object(oe.jsx)("img",{src:"/api/images/".concat(e.image),style:{width:"100%",height:"100%",display:"block"},alt:"Registry Item"})}),Object(oe.jsx)("div",{className:"ListItemName",children:e.name}),Object(oe.jsx)("hr",{style:{width:"100%"}}),Object(oe.jsxs)("div",{className:"ListItemPrice",children:["Price: ",e.price]}),Object(oe.jsxs)("div",{className:"ListItemQuant",children:["Quantity: ",e.quantity]}),e.link&&Object(oe.jsx)("p",{children:"Purchase Link"})]})})}),He=function(e){var t=Object(u.c)((function(e){return e.group.pageGroup.mode})),n=Object(u.c)((function(t){return t.item.memberItems.filter((function(t){return t.itemid===e.itemid}))})),a=Object(u.b)();return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)("div",{className:"ItemContainer",children:[0===n[0].quantity&&Object(oe.jsx)("div",{className:"PurchasedItem",children:Object(oe.jsx)("div",{className:"PurchasedItemText",children:"Item Purchased"})}),Object(oe.jsxs)("div",{className:"ItemDetailContainer",children:[Object(oe.jsx)("div",{className:"ItemImage",children:Object(oe.jsx)("img",{src:"/api/images/".concat(e.image),style:{width:"100%",height:"100%",display:"block"},alt:"Registry Item"})}),Object(oe.jsx)("div",{className:"ListItemName",children:e.name}),Object(oe.jsx)("hr",{style:{width:"100%"}}),Object(oe.jsxs)("div",{className:"ListItemPrice",children:["Price: ",e.price]}),Object(oe.jsxs)("div",{className:"ListItemQuant",children:["Quantity: ",n[0].quantity]}),e.link&&Object(oe.jsx)("a",{className:"PurchaseLink",href:e.link,children:"Purchase Link"}),1===t&&Object(oe.jsx)("button",{className:"PurchaseBtn",onClick:function(){return function(){var t=n[0].quantity;t>=0&&t--;var c={itemid:e.itemid,price:e.price,quantity:t,link:e.link,imageKey:e.image,name:e.name};a(Re(c))}()},children:"Purchase"})]})]})})},Je=function(e){return function(t){t({type:$,payload:{modalType:e}})}},ze=function(e){return function(t){t({type:Z,payload:e})}},Ve=function(){return function(e){e({type:te,payload:{activePage:null,modalType:null}})}},qe=n(12),Xe=function(){var e=Object(u.b)();return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)("div",{className:"AddItemCard",onClick:function(){return window.scrollTo({top:0,behavior:"smooth"}),void e(Je("AddItem"))},children:[Object(oe.jsx)("div",{className:"ItemName",children:"ADD NEW ITEM"}),Object(oe.jsx)(qe.a,{style:{fontSize:250,color:"gray"}})]})})},Ke=function(e){var t=Object(u.c)((function(e){return e.item.memberItems}));return"Dashboard"===e.PageType?Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)("div",{className:"ItemListContainer",children:[Object(oe.jsx)(Xe,{}),t&&t.map((function(e,t){return Object(oe.jsx)("div",{className:"ItemContainer",children:Object(oe.jsx)(Fe,Object(Me.a)({},e))},t)}))]})}):Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)("div",{className:"ItemListContainer",children:t&&t.map((function(e,t){return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)(He,Object(Me.a)({},e))})}))})})},Qe=(n(49),function(e){return function(){var t=Object(b.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.post("/api/images/create",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return n({type:f,payload:e.data}),e.data})).catch((function(e){return n(ne(e.response.data,e.response.status))}));case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),We=function(e){return function(){var t=Object(b.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.delete("/api/images/delete?imageKey=".concat(e)).then((function(e){return n({type:"DELETE_IMAGE",payload:e.data}),e.data})).catch((function(e){return n(ne(e.response.data,e.response.status))}));case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ye=n(55),$e=n.n(Ye),Ze=n(56),et=n.n(Ze),tt={prefix:"$",suffix:"",includeThousandsSeparator:!0,thousandsSeparatorSymbol:",",allowDecimal:!0,decimalSymbol:".",decimalLimit:2,integerLimit:7,allowNegative:!1,allowLeadingZeroes:!1},nt=function(e){var t=Object.assign({},e),n=et()(Object(Me.a)({},tt));return Object(oe.jsx)($e.a,Object(Me.a)({mask:n},t))},at=function(){var e=Object(u.c)((function(e){return e.auth.user.id})),t=Object(u.c)((function(e){return e.group.currentGroup.Group.id})),n=Object(u.c)((function(e){return e.modal.activeModal.modalType})),c=Object(a.useState)(0),r=Object(o.a)(c,2),s=r[0],i=r[1],l=Object(a.useState)("New Item"),d=Object(o.a)(l,2),p=d[0],m=d[1],O=Object(a.useState)(1),h=Object(o.a)(O,2),f=h[0],x=h[1],g=Object(a.useState)(null),v=Object(o.a)(g,2),y=v[0],N=v[1],I=Object(a.useState)(null),G=Object(o.a)(I,2),E=G[0],M=G[1],S=Object(a.useState)("/api/images/DefaultItem"),w=Object(o.a)(S,2),k=w[0],C=w[1],D=Object(u.b)();Object(a.useEffect)((function(){"AddItem"===n&&window.addEventListener("click",(function(e){e.target&&"ItemModalBackground"===e.target.className&&D(Ve())}))}),[n]);var A=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.image,console.log(n),(a=new FormData).append("image",n),e.next=6,D(Qe(a));case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var n=Object(b.a)(j.a.mark((function n(){var a,c;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a="DefaultItem",!E){n.next=6;break}return n.next=4,A({image:E});case 4:c=n.sent,a=c.Key;case 6:D(Te({userID:e,price:s,quantity:f,link:y,purchased:!1,imageKey:a,itemName:p,GroupID:t})),D(Ve());case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)("div",{className:"ItemModalBackground",children:Object(oe.jsxs)("div",{className:"ItemModalContainer",children:[Object(oe.jsx)("input",{type:"file",id:"imageUpload",style:{display:"none"},onChange:function(e){var t=e.target.files[0];M(t),C(URL.createObjectURL(e.target.files[0]))},accept:"image/*"}),Object(oe.jsx)("label",{htmlFor:"imageUpload",className:"NewImageBtn",children:Object(oe.jsx)("div",{className:"ImageContainer",children:Object(oe.jsxs)("div",{className:"content",children:[Object(oe.jsx)("div",{className:"content-overlay"}),Object(oe.jsx)("img",{className:"content-image",src:k,style:{width:"100%",height:"100%",display:"block"},alt:"Registry Item"}),Object(oe.jsx)("div",{className:"content-details fadeIn-top",children:Object(oe.jsx)("h3",{children:"Choose a new photo"})})]})})}),Object(oe.jsx)("div",{className:"ItemName",children:Object(oe.jsx)("input",{className:"ItemModalInputName",placeholder:"New Item",onChange:function(e){return m(e.target.value)}})}),Object(oe.jsx)("hr",{style:{width:"100%"}}),Object(oe.jsxs)("div",{className:"ItemPrice",children:[Object(oe.jsx)("div",{className:"ItemModalBodyLabel",children:"Price:"}),Object(oe.jsx)(nt,{className:"ItemModalInputPrice",placeholder:"0.00",onChange:function(e){return i(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"ItemQuant",children:[Object(oe.jsx)("div",{className:"ItemModalBodyLabel",children:"Quantity:"}),Object(oe.jsx)("input",{className:"ItemModalInputPrice",placeholder:"1",onChange:function(e){return x(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"ItemLink",children:[Object(oe.jsx)("div",{className:"ItemModalBodyLabel",children:"Link:"}),Object(oe.jsx)("input",{className:"ItemModalInputPrice",placeholder:"Purchase Link",onChange:function(e){return function(e){if(N(e),e.includes("amazon.com/"))try{var t=e.indexOf("/dp/"),n=4;-1===t&&(t=e.indexOf("/gp/"),n=12);var a=e.substr(t+n,10);10===a.length&&fetch("".concat("https://floating-refuge-25955.herokuapp.com/","https://ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&MarketPlace=US&ASIN=").concat(a,"&ServiceVersion=20070822&ID=AsinImage&WS=1&Format=SL250")).then((function(e){return e.blob()})).then((function(e){var t=new File([e],"image");M(t),C(URL.createObjectURL(e))}))}catch(e){console.log(e)}}(e.target.value)}})]}),Object(oe.jsx)("button",{className:"ItemModalSubmitBtn",onClick:function(){return L()},children:"Add Item"})]})})})},ct=function(){Object(u.c)((function(e){return e.auth.user.id}));var e=Object(u.c)((function(e){return e.item.selectedItem.itemDetails})),t=Object(u.c)((function(e){return e.item.selectedItem.displayEditModal})),n=Object(a.useState)(e.price),c=Object(o.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(e.name),l=Object(o.a)(i,2),d=l[0],p=l[1],O=Object(a.useState)(e.quantity),h=Object(o.a)(O,2),f=h[0],g=h[1],v=Object(a.useState)(e.link),y=Object(o.a)(v,2),N=y[0],I=y[1],G=Object(a.useState)(null),E=Object(o.a)(G,2),M=E[0],S=E[1],w=Object(a.useState)("/api/images/".concat(e.image)),k=Object(o.a)(w,2),C=k[0],D=k[1],A=Object(u.b)();Object(a.useEffect)((function(){t&&window.addEventListener("click",(function(e){e.target&&"ItemModalBackground"===e.target.className&&A(_e())}))}),[t]);var L=function(){var t=Object(b.a)(j.a.mark((function t(n){var a,c,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.image,"DefaultItem"!==e.image&&A(We(e.image)),(c=new FormData).append("image",a),t.next=6,A(Qe(c));case 6:return r=t.sent,t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),P=function(){A(function(e,t){return function(n){m.a.delete("/api/items/delete?itemid=".concat(e,"&itemKey=").concat(t)).then((function(e){})).catch((function(e){return n(ne(e.response.data,e.response.status))})),n({type:x,payload:e})}}(e.itemid,e.image)),A(_e())},T=function(){var t=Object(b.a)(j.a.mark((function t(){var n,a,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.image,!M){t.next=6;break}return t.next=4,L({image:M});case 4:a=t.sent,n=a.Key;case 6:c={itemid:e.itemid,price:r,quantity:f,link:N,imageKey:n,name:d},A(Re(c)),A(_e());case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)("div",{className:"ItemModalBackground",children:Object(oe.jsxs)("div",{className:"ItemModalContainer",children:[Object(oe.jsx)("input",{type:"file",id:"imageUpload",style:{display:"none"},onChange:function(e){var t=e.target.files[0];S(t),D(URL.createObjectURL(e.target.files[0]))},accept:"image/*"}),Object(oe.jsx)("label",{htmlFor:"imageUpload",className:"NewImageBtn",children:Object(oe.jsx)("div",{className:"ImageContainer",children:Object(oe.jsxs)("div",{className:"content",children:[Object(oe.jsx)("div",{className:"content-overlay"}),Object(oe.jsx)("img",{className:"content-image",src:C,style:{width:"100%",height:"100%",display:"block"},alt:"Registry Item"}),Object(oe.jsx)("div",{className:"content-details fadeIn-top",children:Object(oe.jsx)("h3",{children:"Choose a new photo"})})]})})}),Object(oe.jsx)("div",{className:"ItemName",children:Object(oe.jsx)("input",{className:"ItemModalInputName",placeholder:"".concat(e.name),onChange:function(e){return p(e.target.value)}})}),Object(oe.jsx)("hr",{style:{width:"100%"}}),Object(oe.jsxs)("div",{className:"ItemPrice",children:[Object(oe.jsx)("div",{className:"ItemModalBodyLabel",children:"Price:"}),Object(oe.jsx)(nt,{className:"ItemModalInputPrice",placeholder:"".concat(e.price),onChange:function(e){return s(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"ItemQuant",children:[Object(oe.jsx)("div",{className:"ItemModalBodyLabel",children:"Quantity:"}),Object(oe.jsx)("input",{className:"ItemModalInputPrice",placeholder:"".concat(e.quantity),onChange:function(e){return g(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"ItemLink",children:[Object(oe.jsx)("div",{className:"ItemModalBodyLabel",children:"Link:"}),Object(oe.jsx)("input",{className:"ItemModalInputPrice",placeholder:"".concat(e.link),onChange:function(e){return I(e.target.value)}})]}),Object(oe.jsx)("button",{className:"ItemModalSubmitBtn",onClick:function(){return T()},children:"SAVE CHANGES"}),Object(oe.jsx)("button",{className:"ItemModalDeleteBtn",onClick:function(){return P()},children:"DELETE ITEM"})]})})})},rt=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.group.currentGroup.Group.id})),n=Object(u.c)((function(e){return e.item.memberItems})),c=Object(u.c)((function(e){return e.item.selectedItem.displayEditModal})),r=Object(u.c)((function(e){return e.modal.activeModal.modalType}));return Object(a.useEffect)((function(){function t(){return(t=Object(b.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(se());case 2:n=t.sent,e(be(n));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)("div",{className:"dashContainer",style:{position:!t||n&&n.length<4?"absolute":"static"},children:["AddItem"===r&&Object(oe.jsx)(at,{}),c&&Object(oe.jsx)(ct,{}),Object(oe.jsx)(Ce,{title:"HomePage"}),Object(oe.jsx)(Be,{}),Object(oe.jsx)("div",{className:"registryPlaceholder",style:{display:t?"none":"block"},children:Object(oe.jsx)("div",{children:t?"Your Wishlist":"No Group Selected"})}),Object(oe.jsx)("div",{className:"registryDashContainer",style:{display:t?"block":"none"},children:t&&Object(oe.jsx)(Ke,{PageType:"Dashboard"})})]})})},st=(n(103),n(50),function(){var e=Object(u.c)((function(e){return e.group.pageGroup.members})),t=Object(u.c)((function(e){return e.group.pageGroup.id}));return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)("div",{className:"UserListContainer",children:e&&e.map((function(e,n){return Object(oe.jsx)("div",{className:"UserContainer",children:Object(oe.jsxs)(l.a,{to:"/groups/".concat(t,"/users/").concat(e.id),style:{textDecoration:"none"},children:[Object(oe.jsx)("div",{className:"UserImage",children:Object(oe.jsx)("img",{src:"/api/images/".concat(e.profileimage),style:{width:"100%",height:"100%",borderRadius:25}})}),Object(oe.jsx)("div",{className:"UserName",children:e.name})]})},n)}))})})}),it=function(e){var t=Object(u.b)(),n=Object(a.useState)(""),c=Object(o.a)(n,2),r=c[0],s=c[1];return Object(a.useEffect)((function(){function n(){return(n=Object(b.a)(j.a.mark((function n(){var a;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(pe(e.match.params.id));case 2:a=n.sent,s(a.name);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[]),Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)("div",{className:"container",children:[Object(oe.jsx)(Ce,{title:r}),Object(oe.jsxs)("div",{className:"MemberContainer",children:[Object(oe.jsx)("h1",{children:"Members in this group"}),Object(oe.jsx)(st,{})]})]})})},ot=(n(35),n(57)),ut={0:"Secret Santa",1:"Wedding",2:"Other"},lt=function(e){var t=e.FilterType,n=Object(u.c)((function(e){return e.group.groups})),a=Object(u.c)((function(e){return e.auth.user.id})),c=Object(u.b)(),r=function(e){c(function(e){return function(t){t({type:C,payload:{displayEditGroupModal:!0,groupDetails:e}})}}(e))},s=function(e){c(function(e,t){return function(n){m.a.post("/api/groups/removeUser",{groupID:e,userID:t}).then(n({type:w,payload:e})).catch((function(e){return n(ne(e.response.data,e.response.status))}))}}(e,a))};return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)("div",{className:"GroupListHeader",children:[Object(oe.jsx)("div",{className:"GroupNameHeader",children:"Group Name"}),Object(oe.jsx)("div",{className:"VerticalLine"}),Object(oe.jsx)("div",{className:"GroupTypeHeader",children:"Group Type"}),Object(oe.jsx)("div",{className:"VerticalLine"}),Object(oe.jsx)("div",{className:"GroupActionHeader",children:"Edit"})]}),Object(oe.jsx)("div",{className:"GroupListContainer",children:n&&n.filter((function(e){return e.role===t})).map((function(e,n){return Object(oe.jsxs)("div",{className:"GroupContainer",children:[Object(oe.jsx)("div",{className:"GroupLabel",children:Object(oe.jsx)(l.a,{to:"/groups/".concat(e.id),style:{textDecoration:"none"},children:e.groupname})}),Object(oe.jsx)("div",{className:"VerticalLine"}),Object(oe.jsx)("div",{className:"GroupMode",children:Object(oe.jsx)("div",{className:"GroupModeLabel",children:ut[e.mode]})}),Object(oe.jsx)("div",{className:"VerticalLine"}),"Member"===t&&Object(oe.jsx)("div",{className:"GroupActions",children:Object(oe.jsx)("div",{className:"LeaveGroupBtn",children:Object(oe.jsx)(ot.a,{onClick:function(){return s(e.id)}})})}),"Admin"===t&&Object(oe.jsx)("div",{className:"GroupActions",children:Object(oe.jsx)("div",{className:"SettingsGroupBtn",children:Object(oe.jsx)(qe.d,{onClick:function(){return r(e)}})})})]},n)}))})]})},dt=function(){var e=Object(u.b)(),t=function(t){"Add"===t?(e(Je("Group")),e(ze("ModeSelect"))):(e(Je("Group")),e(ze("JoinRegister")))};return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)("div",{className:"GroupManageContainer",children:[Object(oe.jsx)("div",{className:"CreateBtn",children:Object(oe.jsx)("button",{className:"ActionButton",id:"Abtn",onClick:function(){return t("Add")},children:"CREATE A GROUP"})}),Object(oe.jsx)("div",{className:"JoinBtn",children:Object(oe.jsx)("button",{className:"ActionButton",id:"Jbtn",onClick:function(){return t("Join")},children:"JOIN A GROUP"})})]})})},jt=(n(20),function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.group.selectedGroup.groupDetails.passcode})),n=function(t){e(ze(t))};return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)("div",{className:"MenuContainer",children:[Object(oe.jsxs)("h3",{children:["Group Passcode: ",t]}),Object(oe.jsxs)("div",{className:"MenuBody",children:[Object(oe.jsx)("h2",{style:{cursor:"pointer"},onClick:function(){return n("Passcode")},children:"Change Passcode"}),Object(oe.jsx)("h2",{style:{cursor:"pointer"},onClick:function(){return n("ManageMembers")},children:"Manage Members"}),Object(oe.jsx)("h2",{style:{cursor:"pointer"},onClick:function(){return n("Delete")},children:"Delete Group"})]}),Object(oe.jsx)("div",{className:"MenuFooter",children:Object(oe.jsx)("button",{className:"ExitMenuBtn",onClick:function(){return console.log("HI")},children:"Exit"})})]})})}),bt=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(o.a)(r,2),i=s[0],l=s[1],d=Object(u.b)(),j=Object(u.c)((function(e){return e.group.selectedGroup.groupDetails.id}));return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)("div",{className:"PasscodeContainer",style:{display:i?"none":"block"},children:[Object(oe.jsxs)("div",{className:"PasscodeBody",children:[Object(oe.jsx)("h2",{children:"Enter a New Passcode"}),Object(oe.jsx)("input",{className:"PasscodeInput",placeholder:"Passcode",onChange:function(e){return c(e.target.value)}})]}),Object(oe.jsx)("div",{style:{marginTop:"10%"},children:Object(oe.jsx)("div",{className:"SubmitPasscode",children:Object(oe.jsx)("button",{className:"PasscodeSubmitBtn",onClick:function(){return function(){var e={GroupID:j,newPass:n};m.a.post("http://localhost:3005/api/groups/edit",{PassObject:e}).then((function(e){l(!0)})).catch((function(e){console.log(e)}))}()},children:"Change Passcode"})})})]}),Object(oe.jsxs)("div",{style:{display:i?"block":"none"},children:["Passcode Change Successful!",Object(oe.jsx)("div",{className:"PasscodeConfirmation",children:Object(oe.jsx)("button",{style:{fontSize:22,cursor:"pointer"},onClick:function(){return d(ve()),void d(Ve())},children:"Ok"})})]})]})},pt=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(null),s=Object(o.a)(r,2),i=s[0],l=s[1],d=Object(u.c)((function(e){return e.group.selectedGroup.groupDetails.id})),p=Object(u.c)((function(e){return e.group.selectedGroup.groupMembers})),O=Object(u.b)(),h=function(){c(!1),O(function(e,t){return function(n){m.a.post("/api/groups/removeUser",{groupID:e,userID:t}).then(n({type:S,payload:t})).catch((function(e){return n(ne(e.response.data,e.response.status))}))}}(d,i))};return Object(a.useEffect)((function(){function e(){return(e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(me(d));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("div",{className:"MainMemberModal",style:{display:n?"none":"block"},children:Object(oe.jsxs)("div",{className:"body",children:[Object(oe.jsx)("h1",{children:"Members"}),Object(oe.jsxs)("div",{className:"MemberModalHeaderItem",children:[Object(oe.jsx)("div",{className:"NameHeader",children:"Name"}),Object(oe.jsx)("div",{className:"RoleHeader",children:"Role"}),Object(oe.jsx)("div",{className:"IconHeader",children:"Action"})]}),Object(oe.jsx)("div",{className:"MemberModalContainer",children:p&&p.map((function(e,t){return Object(oe.jsxs)("div",{className:"MemberItem",children:[Object(oe.jsx)("div",{className:"MemberName",children:e.name}),Object(oe.jsx)("div",{className:"MemberRole",children:e.role}),Object(oe.jsxs)("div",{className:"MemberActionBtns",children:["Admin"!==e.role&&Object(oe.jsx)(qe.c,{style:{color:"red",cursor:"pointer"},onClick:function(){return t=e.id,c(!0),void l(t);var t}}),"Admin"===e.role&&Object(oe.jsx)(qe.e,{})]})]},t)}))})]})}),Object(oe.jsx)("div",{className:"ConfirmationModal",style:{display:n?"block":"none"},children:Object(oe.jsxs)("div",{className:"ConfirmBody",style:{marginTop:"30%"},children:[Object(oe.jsx)("div",{children:"Are you sure you want to delete this user?"}),Object(oe.jsx)("button",{onClick:function(){c(!1),l(null)},style:{backgroundColor:"red",borderRadius:15,padding:"1%",color:"white",fontSize:30,cursor:"pointer"},children:"NO"}),Object(oe.jsx)("button",{onClick:function(){return h()},style:{backgroundColor:"green",borderRadius:15,padding:"1%",color:"white",fontSize:30,cursor:"pointer"},children:"YES"})]})})]})},mt=function(){var e=Object(u.c)((function(e){return e.group.selectedGroup.groupDetails.id})),t=Object(u.b)(),n=function(){var n;t((n=e,function(e){m.a.delete("/api/groups/delete?groupid=".concat(n)).then(e({type:A,payload:n})).catch((function(t){return e(ne(t.response.data,t.response.status))}))})),t(ve()),t(Ve())};return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)("div",{className:"ConfirmDeleteContainer",children:[Object(oe.jsx)("div",{className:"body",children:"Are you sure you want to delete this group?"}),Object(oe.jsxs)("div",{className:"footer",children:[Object(oe.jsx)("button",{onClick:function(){t(ze("GroupMenu"))},style:{backgroundColor:"red",borderRadius:15,padding:"1%",color:"white",fontSize:30,cursor:"pointer"},children:"NO"}),Object(oe.jsx)("button",{onClick:function(){return n()},style:{backgroundColor:"green",borderRadius:15,padding:"1%",color:"white",fontSize:30,cursor:"pointer",marginLeft:"10%"},children:"YES"})]})]})})},Ot=function(){var e=Object(u.c)((function(e){return e.modal.activeModal.activePage})),t=Object(u.c)((function(e){return e.group.selectedGroup.displayEditGroupModal})),n=Object(a.useState)(Object(oe.jsx)(jt,{})),c=Object(o.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)("Menu"),l=Object(o.a)(i,2),d=l[0],p=l[1],m=Object(u.b)(),O=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(ve()),m(Ve());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){switch(e){case"GroupMenu":s(Object(oe.jsx)(jt,{})),p("Menu");break;case"Passcode":s(Object(oe.jsx)(bt,{})),p("Change Passcode");break;case"ManageMembers":s(Object(oe.jsx)(pt,{})),p("Manage Members");break;case"Delete":s(Object(oe.jsx)(mt,{})),p("Delete Group")}t&&window.addEventListener("click",(function(e){e.target&&"GrpModalBackground"===e.target.className&&(m(ve()),m(Ve()))}))}),[e]),Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)("div",{className:"GrpModalBackground",children:Object(oe.jsxs)("div",{className:"GrpModalContainer",children:[Object(oe.jsxs)("div",{className:"GrpModalHeader",children:[Object(oe.jsx)("div",{children:Object(oe.jsx)(qe.b,{onClick:function(){m(ze("GroupMenu"))},style:{cursor:"pointer",visibility:"Menu"===d?"hidden":"visible"}})}),Object(oe.jsx)("div",{children:d}),Object(oe.jsx)("div",{className:"modalCloseButton",children:Object(oe.jsx)("button",{onClick:function(){return O()},style:{fontSize:22,cursor:"pointer"},children:"X"})})]}),r]})})})},ht=function(){var e=Object(a.useState)(0),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(u.b)(),s=function(){var e;r((e={Mode:n},function(t){console.log(e),t({type:ee,payload:{addGroupSettings:e}})})),r(ze("GroupRegister"))};return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("div",{style:{textAlign:"center"},children:Object(oe.jsx)("h2",{children:"Pick a type of Group"})}),Object(oe.jsxs)("div",{className:"ModeSelectBody",children:[Object(oe.jsxs)("div",{className:"ModeBtn",children:[Object(oe.jsx)("input",{type:"radio",className:"radBtn",value:"Secret Santa",name:"groupmode",onClick:function(){return c(0)},defaultChecked:!0}),"Secret Santa",Object(oe.jsx)("div",{className:"ModeInfo",children:"Group Size: Any"})]}),Object(oe.jsxs)("div",{className:"ModeBtn",children:[Object(oe.jsx)("input",{type:"radio",className:"radBtn",value:"Wedding",onClick:function(){return c(1)},name:"groupmode"})," ","Wedding",Object(oe.jsx)("div",{className:"ModeInfo",children:"Group Size: 1"})]}),Object(oe.jsxs)("div",{className:"ModeBtn",children:[Object(oe.jsx)("input",{type:"radio",className:"radBtn",value:"Other",onClick:function(){return c(2)},name:"groupmode"})," ","Other",Object(oe.jsx)("div",{className:"ModeInfo",children:"Group Size: Any"})]})]}),Object(oe.jsx)("div",{className:"ModeSelectFooter",children:Object(oe.jsx)("button",{className:"ModeSelectBtn",onClick:function(){return s()},children:"Choose Mode"})})]})},ft=function(){var e=Object(u.c)((function(e){return e.auth.user.id})),t=Object(u.c)((function(e){return e.modal.modalData.addGroupSettings.Mode})),n=Object(a.useState)(""),c=Object(o.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(""),l=Object(o.a)(i,2),d=l[0],p=l[1],m=Object(a.useState)(""),O=Object(o.a)(m,2),h=O[0],f=O[1],x=Object(u.b)(),g=function(){var n=Object(b.a)(j.a.mark((function n(){var a,c;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={groupName:r,passcode:d,userid:e,groupMode:t},n.next=3,x(Oe(a));case 3:c=n.sent,console.log(c),"Success"===c?x(ze("AddSuccess")):f(c);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("div",{className:"GroupRegisterHeader",children:Object(oe.jsx)("h1",{children:"Name and Passcode"})}),Object(oe.jsxs)("div",{className:"GroupRegisterBody",children:[h&&Object(oe.jsx)("div",{children:h}),Object(oe.jsx)("p",{children:"Enter a name for your group"}),Object(oe.jsx)("input",{className:"modalInput",placeholder:"Enter name",onChange:function(e){return s(e.target.value)}}),Object(oe.jsx)("p",{children:"Enter a passcode for your group"}),Object(oe.jsx)("input",{className:"modalInput",placeholder:"Enter Passcode",onChange:function(e){return p(e.target.value)}})]}),Object(oe.jsx)("div",{className:"GroupRegisterFooter",children:Object(oe.jsxs)("button",{className:"GroupRegisterBtn",onClick:function(){return g()},children:[" ","Create Group"]})})]})},xt=function(){var e=Object(u.b)();return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("div",{className:"GroupRegisterHeader",children:Object(oe.jsx)("h1",{children:"Success!"})}),Object(oe.jsxs)("div",{className:"GroupRegisterBody",children:["Your group has been created.",Object(oe.jsx)(l.a,{to:"/",onClick:function(){return e(Ve())},style:{textDecoration:"none"},children:Object(oe.jsx)("button",{className:"AddSuccessBtn",children:"Start adding items"})})]})]})},gt=function(){var e=Object(u.c)((function(e){return e.auth.user.id})),t=Object(a.useState)(0),n=Object(o.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),i=Object(o.a)(s,2),l=i[0],d=i[1],p=Object(a.useState)(null),m=Object(o.a)(p,2),O=m[0],h=m[1],f=Object(u.b)(),x=function(){var t=Object(b.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(he(l,c,e));case 2:"Success"===(n=t.sent)?f(Ve()):h(n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)("div",{className:"JoinContainer",children:[Object(oe.jsxs)("div",{className:"JoinBody",children:[O&&Object(oe.jsx)("div",{children:O}),Object(oe.jsxs)("div",{className:"JoinInput",children:[Object(oe.jsx)("p",{children:"Enter a group name"}),Object(oe.jsx)("input",{className:"modalInput",placeholder:"Enter name",onChange:function(e){return d(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"JoinInput",children:[Object(oe.jsx)("p",{children:"Enter the group passcode"}),Object(oe.jsx)("input",{className:"modalInput",placeholder:"Enter Passcode",onChange:function(e){return r(e.target.value)}})]})]}),Object(oe.jsx)("button",{className:"JoinButton",onClick:function(){return x()},children:"Join Group"})]})})},vt=function(){var e=Object(u.c)((function(e){return e.modal.activeModal.activePage})),t=Object(u.c)((function(e){return e.modal.activeModal.modalType})),n=Object(a.useState)(Object(oe.jsx)(ht,{})),c=Object(o.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)("ModeSelect"),l=Object(o.a)(i,2),d=l[0],j=l[1],b=Object(u.b)();return Object(a.useEffect)((function(){switch(e){case"ModeSelect":s(Object(oe.jsx)(ht,{})),j("Create a Group");break;case"GroupRegister":s(Object(oe.jsx)(ft,{}));break;case"AddSuccess":s(Object(oe.jsx)(xt,{}));break;case"JoinRegister":s(Object(oe.jsx)(gt,{})),j("Join a Group")}"Group"===t&&window.addEventListener("click",(function(e){e.target&&"GrpModalBackground"===e.target.className&&b(Ve())}))}),[t,e]),Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)("div",{className:"GrpModalBackground",children:Object(oe.jsxs)("div",{className:"AddGrpModalContainer",children:[Object(oe.jsxs)("div",{className:"GrpModalHeader",children:[Object(oe.jsx)("div",{children:Object(oe.jsx)(qe.b,{onClick:function(){b(ze("ModeSelect"))},style:{cursor:"pointer",visibility:"ModeSelect"===e||"JoinRegister"===e||"AddSuccess"===e?"hidden":"visible"}})}),Object(oe.jsx)("div",{children:d}),Object(oe.jsx)("div",{className:"modalCloseButton",children:Object(oe.jsx)("button",{onClick:function(){b(Ve())},style:{fontSize:22,cursor:"pointer"},children:"X"})})]}),r]})})})},yt=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.group.selectedGroup.displayEditGroupModal})),n=Object(u.c)((function(e){return e.modal.activeModal.modalType}));return Object(a.useEffect)((function(){function t(){return(t=Object(b.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(se());case 2:n=t.sent,e(be(n));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)("div",{className:"container",children:[t&&Object(oe.jsx)(Ot,{}),"Group"===n&&Object(oe.jsx)(vt,{}),Object(oe.jsx)(Ce,{title:"Manage Groups"}),Object(oe.jsx)(dt,{}),Object(oe.jsxs)("div",{className:"groupTypesContainer",children:[Object(oe.jsxs)("div",{className:"ownedGroups",children:[Object(oe.jsx)("h1",{children:"Owned Groups"}),Object(oe.jsx)(lt,{FilterType:"Admin"})]}),Object(oe.jsxs)("div",{className:"otherGroups",children:[Object(oe.jsx)("h1",{children:"Other Groups"}),Object(oe.jsx)(lt,{FilterType:"Member"})]})]})]})})},Nt=(n(104),function(e){return function(){var t=Object(b.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(It()),t.next=3,m.a.get("/api/users/?userid=".concat(e)).then((function(e){return n({type:Q,payload:e.data}),e.data})).catch((function(e){return n(ne(e.response.data,e.response.status))}));case 3:return a=t.sent,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),It=function(){return{type:W}},Gt=function(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)("DefaultProfileImage"),i=Object(o.a)(s,2),l=i[0],d=i[1],p=Object(u.b)(),m=e.match.params.id,O=e.match.params.gid;return Object(a.useEffect)((function(){function e(){return(e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(Nt(m));case 2:return t=e.sent,r(t[0].name),d(t[0].profileimage),e.next=7,p(pe(O));case 7:return e.next=9,p(Pe(m,O));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)("div",{className:"UserPageContainer",children:[Object(oe.jsx)(Ce,{title:"User Page"}),Object(oe.jsxs)("div",{className:"UserInfo",children:[Object(oe.jsx)("div",{className:"UserName",children:c}),Object(oe.jsx)("div",{className:"UserImage",children:Object(oe.jsx)("img",{height:"100%",width:"100%",src:"/api/images/".concat(l)})})]}),Object(oe.jsx)("div",{className:"registryContainer",children:Object(oe.jsx)(Ke,{})})]})})},Et=(n(105),function(){var e=Object(u.c)((function(e){return e.auth.user})),t=Object(u.b)(),n=function(){var n=Object(b.a)(j.a.mark((function n(a){var r,s,i,o;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=a.target.files[0],n.next=3,c({image:r});case 3:s=n.sent,i=s.Key,o={id:e.id,name:e.name,profileImage:i},t(ie(o));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),c=function(){var e=Object(b.a)(j.a.mark((function e(n){var a,c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.image,(c=new FormData).append("image",a),e.next=5,t(Qe(c));case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){function e(){return(e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(se());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)("div",{className:"ProfileContainer",children:[Object(oe.jsx)(Ce,{title:"Profile Page"}),e.profileimage&&Object(oe.jsxs)("div",{className:"ProfileInfo",children:[Object(oe.jsx)("h1",{children:e.name}),Object(oe.jsx)("h2",{children:e.email}),Object(oe.jsx)("br",{}),Object(oe.jsx)("img",{src:"/api/images/".concat(e.profileimage),width:150,height:150,style:{borderRadius:15}}),Object(oe.jsxs)("div",{style:{marginTop:15,marginBottom:15},children:[Object(oe.jsx)("input",{type:"file",id:"imgUpload",style:{display:"none"},onChange:n,accept:"image/*"}),Object(oe.jsx)("label",{htmlFor:"imgUpload",className:"ProfileImgBtn",children:"Upload a new image"})]})]})]})})});var Mt=function(){var e=Object(u.c)((function(e){return e.auth.isAuthenticated}));return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)(i.c,{history:re,children:Object(oe.jsxs)(i.d,{children:[Object(oe.jsx)(i.b,{path:"/login",component:le}),Object(oe.jsx)(i.b,{path:"/register",component:je}),Object(oe.jsx)(i.b,{path:"/groups/:gid/users/:id",exact:!0,component:Gt}),Object(oe.jsx)(i.b,{path:"/groups/:id",component:it}),Object(oe.jsx)(ke,{path:"/managegroups",isAuthenticated:e,component:yt}),Object(oe.jsx)(ke,{path:"/profile",isAuthenticated:e,component:Et}),Object(oe.jsx)(ke,{path:"/",isAuthenticated:e,component:rt})]})})})},St=n(23),wt=n(58),kt={message:null,status:null,id:null};var Ct={token:localStorage.getItem("token"),isAuthenticated:null,isLoading:!1,user:{name:""}};var Dt=n(27),At={groups:null,currentGroup:{Group:{id:null,name:null,groupname:null,role:null}},selectedGroup:{displayEditGroupModal:!1,groupDetails:null,groupMembers:null},addGroup:{displayAddGroupmodal:!1},pageGroup:[],loading:!1};var Lt={items:null,memberItems:null,selectedItem:{displayEditModal:!1,itemDetails:null},itemAddition:{displayAddModal:!1},loading:!1};var Pt={externalUser:null,loading:!1};var Tt={activeModal:{modalType:null,activePage:null},modalData:null};var Rt=Object(St.b)({error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return{message:t.payload.message,status:t.payload.status,id:t.payload.id};case K:return{message:null,status:null,id:null};default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(Me.a)(Object(Me.a)({},e),{},{isLoading:!0});case U:case B:return Object(Me.a)(Object(Me.a)({},e),{},{isAuthenticated:!0,isLoading:!1,user:t.payload});case H:case V:return localStorage.setItem("token",t.payload.token),Object(Me.a)(Object(Me.a)(Object(Me.a)({},e),t.payload),{},{isAuthenticated:!0,isLoading:!1});case F:case J:case z:case q:return localStorage.removeItem("token"),Object(Me.a)(Object(Me.a)({},e),{},{token:null,user:null,isAuthenticated:!1,isLoading:!1});default:return e}},group:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(Me.a)(Object(Me.a)({},e),{},{groups:t.payload,loading:!1});case G:return Object(Me.a)(Object(Me.a)({},e),{},{pageGroup:t.payload,loading:!1});case P:return Object(Me.a)(Object(Me.a)({},e),{},{selectedGroup:{displayEditGroupModal:e.selectedGroup.displayEditGroupModal,groupDetails:Object(Me.a)({},e.selectedGroup.groupDetails),groupMembers:t.payload},loading:!1});case k:return Object(Me.a)(Object(Me.a)({},e),{},{currentGroup:t.payload});case C:case D:return Object(Me.a)(Object(Me.a)({},e),{},{selectedGroup:t.payload});case S:return Object(Me.a)(Object(Me.a)({},e),{},{selectedGroup:{displayEditGroupModal:e.selectedGroup.displayEditGroupModal,groupDetails:Object(Me.a)({},e.selectedGroup.groupDetails),groupMembers:e.selectedGroup.groupMembers.filter((function(e){return e.id!==t.payload}))}});case w:case A:return Object(Me.a)(Object(Me.a)({},e),{},{groups:e.groups.filter((function(e){return e.id!==t.payload}))});case E:case M:return Object(Me.a)(Object(Me.a)({},e),{},{groups:[t.payload].concat(Object(Dt.a)(e.groups))});case T:case L:case R:return Object(Me.a)(Object(Me.a)({},e),{},{loading:!0});default:return e}},item:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(Me.a)(Object(Me.a)({},e),{},{memberItems:t.payload,loading:!1});case h:return Object(Me.a)(Object(Me.a)({},e),{},{memberItems:[].concat(Object(Dt.a)(e.memberItems),[t.payload]),loading:!1});case f:return Object(Me.a)(Object(Me.a)({},e),{},{image:t.payload,loading:!1});case x:return Object(Me.a)(Object(Me.a)({},e),{},{memberItems:e.memberItems.filter((function(e){return e.itemid!==t.payload}))});case g:var n=e.memberItems,a=e.memberItems.findIndex((function(e){return e.itemid===t.payload.payload.itemid}));return n[a]=t.payload.payload,Object(Me.a)(Object(Me.a)({},e),{},{selectedItem:t.payload,memberItems:n});case v:case y:return Object(Me.a)(Object(Me.a)({},e),{},{selectedItem:t.payload});case N:return Object(Me.a)(Object(Me.a)({},e),{},{loading:!0});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Object(Me.a)(Object(Me.a)({},e),{},{externalUser:t.payload,loading:!1});case W:return Object(Me.a)(Object(Me.a)({},e),{},{loading:!0});case Y:return Object(Me.a)(Object(Me.a)({},e),{},{externalUser:t.payload});default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(Me.a)(Object(Me.a)({},e),{},{activeModal:t.payload});case Z:return Object(Me.a)(Object(Me.a)({},e),{},{activeModal:{activePage:t.payload,modalType:e.activeModal.modalType}});case te:return Object(Me.a)(Object(Me.a)({},e),{},{activeModal:"Main",modalData:null});case ee:return Object(Me.a)(Object(Me.a)({},e),{},{modalData:t.payload});default:return e}}}),_t=[wt.a],Ut=Object(St.d)(Rt,{},Object(St.c)(St.a.apply(void 0,_t),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(oe.jsx)(c.a.StrictMode,{children:Object(oe.jsx)(u.a,{store:Ut,children:Object(oe.jsx)(Mt,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},20:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},35:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},64:function(e,t,n){},89:function(e,t,n){}},[[106,1,2]]]);
//# sourceMappingURL=main.a3fd1800.chunk.js.map